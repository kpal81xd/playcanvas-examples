import { CURVE_SMOOTHSTEP } from './constants.js';
import { Curve } from './curve.js';
import { CurveEvaluator } from './curve-evaluator.js';

/**
 * A curve set is a collection of curves.
 *
 * @category Math
 */
class CurveSet {
  /**
   * Creates a new CurveSet instance.
   *
   * @param {Array<number[]>} curveKeys - An array of arrays of keys (pairs of numbers with the
   * time first and value second).
   * @example
   * const curveSet = new pc.CurveSet([
   *     [
   *         0, 0,        // At 0 time, value of 0
   *         0.33, 2,     // At 0.33 time, value of 2
   *         0.66, 2.6,   // At 0.66 time, value of 2.6
   *         1, 3         // At 1 time, value of 3
   *     ],
   *     [
   *         0, 34,
   *         0.33, 35,
   *         0.66, 36,
   *         1, 37
   *     ]
   * ]);
   */
  constructor() {
    this.curves = [];
    /**
     * @type {number}
     * @private
     */
    this._type = CURVE_SMOOTHSTEP;
    if (arguments.length > 1) {
      for (let i = 0; i < arguments.length; i++) {
        this.curves.push(new Curve(arguments[i]));
      }
    } else {
      if (arguments.length === 0) {
        this.curves.push(new Curve());
      } else {
        const arg = arguments[0];
        if (typeof arg === 'number') {
          for (let i = 0; i < arg; i++) {
            this.curves.push(new Curve());
          }
        } else {
          for (let i = 0; i < arg.length; i++) {
            this.curves.push(new Curve(arg[i]));
          }
        }
      }
    }
  }

  /**
   * The number of curves in the curve set.
   *
   * @type {number}
   */
  get length() {
    return this.curves.length;
  }

  /**
   * The interpolation scheme applied to all curves in the curve set. Can be:
   *
   * - {@link CURVE_LINEAR}
   * - {@link CURVE_SMOOTHSTEP}
   * - {@link CURVE_SPLINE}
   * - {@link CURVE_STEP}
   *
   * Defaults to {@link CURVE_SMOOTHSTEP}.
   *
   * @type {number}
   */
  set type(value) {
    this._type = value;
    for (let i = 0; i < this.curves.length; i++) {
      this.curves[i].type = value;
    }
  }
  get type() {
    return this._type;
  }

  /**
   * Return a specific curve in the curve set.
   *
   * @param {number} index - The index of the curve to return.
   * @returns {Curve} The curve at the specified index.
   */
  get(index) {
    return this.curves[index];
  }

  /**
   * Returns the interpolated value of all curves in the curve set at the specified time.
   *
   * @param {number} time - The time at which to calculate the value.
   * @param {number[]} [result] - The interpolated curve values at the specified time. If this
   * parameter is not supplied, the function allocates a new array internally to return the
   * result.
   * @returns {number[]} The interpolated curve values at the specified time.
   */
  value(time, result = []) {
    const length = this.curves.length;
    result.length = length;
    for (let i = 0; i < length; i++) {
      result[i] = this.curves[i].value(time);
    }
    return result;
  }

  /**
   * Returns a clone of the specified curve set object.
   *
   * @returns {this} A clone of the specified curve set.
   */
  clone() {
    /** @type {this} */
    const result = new this.constructor();
    result.curves = [];
    for (let i = 0; i < this.curves.length; i++) {
      result.curves.push(this.curves[i].clone());
    }
    result._type = this._type;
    return result;
  }

  /**
   * Sample the curveset at regular intervals over the range [0..1].
   *
   * @param {number} precision - The number of samples to return.
   * @returns {Float32Array} The set of quantized values.
   * @ignore
   */
  quantize(precision) {
    precision = Math.max(precision, 2);
    const numCurves = this.curves.length;
    const values = new Float32Array(precision * numCurves);
    const step = 1.0 / (precision - 1);
    for (let c = 0; c < numCurves; c++) {
      const ev = new CurveEvaluator(this.curves[c]);
      for (let i = 0; i < precision; i++) {
        // quantize graph to table of interpolated values
        values[i * numCurves + c] = ev.evaluate(step * i);
      }
    }
    return values;
  }

  /**
   * Sample the curveset at regular intervals over the range [0..1] and clamp the result to min
   * and max.
   *
   * @param {number} precision - The number of samples to return.
   * @param {number} min - The minimum output value.
   * @param {number} max - The maximum output value.
   * @returns {Float32Array} The set of quantized values.
   * @ignore
   */
  quantizeClamped(precision, min, max) {
    const result = this.quantize(precision);
    for (let i = 0; i < result.length; ++i) {
      result[i] = Math.min(max, Math.max(min, result[i]));
    }
    return result;
  }
}

export { CurveSet };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VydmUtc2V0LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvY29yZS9tYXRoL2N1cnZlLXNldC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDVVJWRV9TTU9PVEhTVEVQIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgQ3VydmUgfSBmcm9tICcuL2N1cnZlLmpzJztcbmltcG9ydCB7IEN1cnZlRXZhbHVhdG9yIH0gZnJvbSAnLi9jdXJ2ZS1ldmFsdWF0b3IuanMnO1xuXG4vKipcbiAqIEEgY3VydmUgc2V0IGlzIGEgY29sbGVjdGlvbiBvZiBjdXJ2ZXMuXG4gKlxuICogQGNhdGVnb3J5IE1hdGhcbiAqL1xuY2xhc3MgQ3VydmVTZXQge1xuICAgIGN1cnZlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90eXBlID0gQ1VSVkVfU01PT1RIU1RFUDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQ3VydmVTZXQgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcltdPn0gY3VydmVLZXlzIC0gQW4gYXJyYXkgb2YgYXJyYXlzIG9mIGtleXMgKHBhaXJzIG9mIG51bWJlcnMgd2l0aCB0aGVcbiAgICAgKiB0aW1lIGZpcnN0IGFuZCB2YWx1ZSBzZWNvbmQpLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgY3VydmVTZXQgPSBuZXcgcGMuQ3VydmVTZXQoW1xuICAgICAqICAgICBbXG4gICAgICogICAgICAgICAwLCAwLCAgICAgICAgLy8gQXQgMCB0aW1lLCB2YWx1ZSBvZiAwXG4gICAgICogICAgICAgICAwLjMzLCAyLCAgICAgLy8gQXQgMC4zMyB0aW1lLCB2YWx1ZSBvZiAyXG4gICAgICogICAgICAgICAwLjY2LCAyLjYsICAgLy8gQXQgMC42NiB0aW1lLCB2YWx1ZSBvZiAyLjZcbiAgICAgKiAgICAgICAgIDEsIDMgICAgICAgICAvLyBBdCAxIHRpbWUsIHZhbHVlIG9mIDNcbiAgICAgKiAgICAgXSxcbiAgICAgKiAgICAgW1xuICAgICAqICAgICAgICAgMCwgMzQsXG4gICAgICogICAgICAgICAwLjMzLCAzNSxcbiAgICAgKiAgICAgICAgIDAuNjYsIDM2LFxuICAgICAqICAgICAgICAgMSwgMzdcbiAgICAgKiAgICAgXVxuICAgICAqIF0pO1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJ2ZXMucHVzaChuZXcgQ3VydmUoYXJndW1lbnRzW2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VydmVzLnB1c2gobmV3IEN1cnZlKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmcgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJnOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VydmVzLnB1c2gobmV3IEN1cnZlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VydmVzLnB1c2gobmV3IEN1cnZlKGFyZ1tpXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBjdXJ2ZXMgaW4gdGhlIGN1cnZlIHNldC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VydmVzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW50ZXJwb2xhdGlvbiBzY2hlbWUgYXBwbGllZCB0byBhbGwgY3VydmVzIGluIHRoZSBjdXJ2ZSBzZXQuIENhbiBiZTpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIENVUlZFX0xJTkVBUn1cbiAgICAgKiAtIHtAbGluayBDVVJWRV9TTU9PVEhTVEVQfVxuICAgICAqIC0ge0BsaW5rIENVUlZFX1NQTElORX1cbiAgICAgKiAtIHtAbGluayBDVVJWRV9TVEVQfVxuICAgICAqXG4gICAgICogRGVmYXVsdHMgdG8ge0BsaW5rIENVUlZFX1NNT09USFNURVB9LlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBzZXQgdHlwZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl90eXBlID0gdmFsdWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jdXJ2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY3VydmVzW2ldLnR5cGUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBzcGVjaWZpYyBjdXJ2ZSBpbiB0aGUgY3VydmUgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBjdXJ2ZSB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0N1cnZlfSBUaGUgY3VydmUgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICAgKi9cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VydmVzW2luZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgYWxsIGN1cnZlcyBpbiB0aGUgY3VydmUgc2V0IGF0IHRoZSBzcGVjaWZpZWQgdGltZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gVGhlIHRpbWUgYXQgd2hpY2ggdG8gY2FsY3VsYXRlIHRoZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbcmVzdWx0XSAtIFRoZSBpbnRlcnBvbGF0ZWQgY3VydmUgdmFsdWVzIGF0IHRoZSBzcGVjaWZpZWQgdGltZS4gSWYgdGhpc1xuICAgICAqIHBhcmFtZXRlciBpcyBub3Qgc3VwcGxpZWQsIHRoZSBmdW5jdGlvbiBhbGxvY2F0ZXMgYSBuZXcgYXJyYXkgaW50ZXJuYWxseSB0byByZXR1cm4gdGhlXG4gICAgICogcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gVGhlIGludGVycG9sYXRlZCBjdXJ2ZSB2YWx1ZXMgYXQgdGhlIHNwZWNpZmllZCB0aW1lLlxuICAgICAqL1xuICAgIHZhbHVlKHRpbWUsIHJlc3VsdCA9IFtdKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuY3VydmVzLmxlbmd0aDtcbiAgICAgICAgcmVzdWx0Lmxlbmd0aCA9IGxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gPSB0aGlzLmN1cnZlc1tpXS52YWx1ZSh0aW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNsb25lIG9mIHRoZSBzcGVjaWZpZWQgY3VydmUgc2V0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHt0aGlzfSBBIGNsb25lIG9mIHRoZSBzcGVjaWZpZWQgY3VydmUgc2V0LlxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICAvKiogQHR5cGUge3RoaXN9ICovXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cbiAgICAgICAgcmVzdWx0LmN1cnZlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3VydmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQuY3VydmVzLnB1c2godGhpcy5jdXJ2ZXNbaV0uY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQuX3R5cGUgPSB0aGlzLl90eXBlO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtcGxlIHRoZSBjdXJ2ZXNldCBhdCByZWd1bGFyIGludGVydmFscyBvdmVyIHRoZSByYW5nZSBbMC4uMV0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uIC0gVGhlIG51bWJlciBvZiBzYW1wbGVzIHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBUaGUgc2V0IG9mIHF1YW50aXplZCB2YWx1ZXMuXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHF1YW50aXplKHByZWNpc2lvbikge1xuICAgICAgICBwcmVjaXNpb24gPSBNYXRoLm1heChwcmVjaXNpb24sIDIpO1xuXG4gICAgICAgIGNvbnN0IG51bUN1cnZlcyA9IHRoaXMuY3VydmVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShwcmVjaXNpb24gKiBudW1DdXJ2ZXMpO1xuICAgICAgICBjb25zdCBzdGVwID0gMS4wIC8gKHByZWNpc2lvbiAtIDEpO1xuXG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgbnVtQ3VydmVzOyBjKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ID0gbmV3IEN1cnZlRXZhbHVhdG9yKHRoaXMuY3VydmVzW2NdKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlY2lzaW9uOyBpKyspIHsgLy8gcXVhbnRpemUgZ3JhcGggdG8gdGFibGUgb2YgaW50ZXJwb2xhdGVkIHZhbHVlc1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpICogbnVtQ3VydmVzICsgY10gPSBldi5ldmFsdWF0ZShzdGVwICogaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbXBsZSB0aGUgY3VydmVzZXQgYXQgcmVndWxhciBpbnRlcnZhbHMgb3ZlciB0aGUgcmFuZ2UgWzAuLjFdIGFuZCBjbGFtcCB0aGUgcmVzdWx0IHRvIG1pblxuICAgICAqIGFuZCBtYXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uIC0gVGhlIG51bWJlciBvZiBzYW1wbGVzIHRvIHJldHVybi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluIC0gVGhlIG1pbmltdW0gb3V0cHV0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXggLSBUaGUgbWF4aW11bSBvdXRwdXQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gVGhlIHNldCBvZiBxdWFudGl6ZWQgdmFsdWVzLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBxdWFudGl6ZUNsYW1wZWQocHJlY2lzaW9uLCBtaW4sIG1heCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnF1YW50aXplKHByZWNpc2lvbik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gPSBNYXRoLm1pbihtYXgsIE1hdGgubWF4KG1pbiwgcmVzdWx0W2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEN1cnZlU2V0IH07XG4iXSwibmFtZXMiOlsiQ3VydmVTZXQiLCJjb25zdHJ1Y3RvciIsImN1cnZlcyIsIl90eXBlIiwiQ1VSVkVfU01PT1RIU1RFUCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImkiLCJwdXNoIiwiQ3VydmUiLCJhcmciLCJ0eXBlIiwidmFsdWUiLCJnZXQiLCJpbmRleCIsInRpbWUiLCJyZXN1bHQiLCJjbG9uZSIsInF1YW50aXplIiwicHJlY2lzaW9uIiwiTWF0aCIsIm1heCIsIm51bUN1cnZlcyIsInZhbHVlcyIsIkZsb2F0MzJBcnJheSIsInN0ZXAiLCJjIiwiZXYiLCJDdXJ2ZUV2YWx1YXRvciIsImV2YWx1YXRlIiwicXVhbnRpemVDbGFtcGVkIiwibWluIl0sIm1hcHBpbmdzIjoiOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1BLFFBQVEsQ0FBQztBQVNYO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNJQyxFQUFBQSxXQUFXQSxHQUFHO0lBQUEsSUE3QmRDLENBQUFBLE1BQU0sR0FBRyxFQUFFLENBQUE7QUFFWDtBQUNKO0FBQ0E7QUFDQTtJQUhJLElBSUFDLENBQUFBLEtBQUssR0FBR0MsZ0JBQWdCLENBQUE7QUF3QnBCLElBQUEsSUFBSUMsU0FBUyxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLE1BQUEsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdGLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtBQUN2QyxR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
