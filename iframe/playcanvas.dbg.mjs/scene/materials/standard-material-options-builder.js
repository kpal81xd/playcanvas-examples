import { PIXELFORMAT_DXT5, TEXTURETYPE_SWIZZLEGGGR, PIXELFORMAT_RGBA8 } from '../../platform/graphics/constants.js';
import { SHADER_FORWARDHDR, GAMMA_SRGBHDR, TONEMAP_LINEAR, SHADERDEF_TANGENTS, SHADERDEF_SCREENSPACE, SHADERDEF_SKIN, SHADERDEF_INSTANCING, SHADERDEF_MORPH_POSITION, SHADERDEF_MORPH_NORMAL, SHADERDEF_MORPH_TEXTURE_BASED, BLEND_NONE, DITHER_NONE, SPECULAR_PHONG, GAMMA_NONE, SHADERDEF_NOSHADOW, SHADERDEF_LM, SHADERDEF_DIRLM, SHADERDEF_LMAMBIENT, MASK_AFFECT_DYNAMIC, LIGHTTYPE_DIRECTIONAL, LIGHTTYPE_OMNI, LIGHTTYPE_SPOT, SHADERDEF_UV0, SHADERDEF_UV1, SHADERDEF_VCOLOR } from '../constants.js';
import { _matTex2D } from '../shader-lib/programs/standard.js';
import { LitMaterialOptionsBuilder } from './lit-material-options-builder.js';

const arraysEqual = (a, b) => {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i] !== b[i]) {
      return false;
    }
  }
  return true;
};
const notWhite = color => {
  return color.r !== 1 || color.g !== 1 || color.b !== 1;
};
const notBlack = color => {
  return color.r !== 0 || color.g !== 0 || color.b !== 0;
};
class StandardMaterialOptionsBuilder {
  constructor() {
    this._mapXForms = null;
  }

  // Minimal options for Depth and Shadow passes
  updateMinRef(options, scene, stdMat, objDefs, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateMinOptions(options, stdMat);
    this._updateUVOptions(options, stdMat, objDefs, true);
  }
  updateRef(options, scene, stdMat, objDefs, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateEnvOptions(options, stdMat, scene);
    this._updateMaterialOptions(options, stdMat);
    if (pass === SHADER_FORWARDHDR) {
      if (options.litOptions.gamma) options.litOptions.gamma = GAMMA_SRGBHDR;
      options.litOptions.toneMap = TONEMAP_LINEAR;
    }
    options.litOptions.hasTangents = objDefs && (objDefs & SHADERDEF_TANGENTS) !== 0;
    this._updateLightOptions(options, scene, stdMat, objDefs, sortedLights);
    this._updateUVOptions(options, stdMat, objDefs, false);
  }
  _updateSharedOptions(options, scene, stdMat, objDefs, pass) {
    options.forceUv1 = stdMat.forceUv1;

    // USER ATTRIBUTES
    if (stdMat.userAttributes) {
      options.litOptions.userAttributes = Object.fromEntries(stdMat.userAttributes.entries());
    }
    options.litOptions.chunks = stdMat.chunks || {};
    options.litOptions.pass = pass;
    options.litOptions.alphaTest = stdMat.alphaTest > 0;
    options.litOptions.blendType = stdMat.blendType;
    options.litOptions.screenSpace = objDefs && (objDefs & SHADERDEF_SCREENSPACE) !== 0;
    options.litOptions.skin = objDefs && (objDefs & SHADERDEF_SKIN) !== 0;
    options.litOptions.useInstancing = objDefs && (objDefs & SHADERDEF_INSTANCING) !== 0;
    options.litOptions.useMorphPosition = objDefs && (objDefs & SHADERDEF_MORPH_POSITION) !== 0;
    options.litOptions.useMorphNormal = objDefs && (objDefs & SHADERDEF_MORPH_NORMAL) !== 0;
    options.litOptions.useMorphTextureBased = objDefs && (objDefs & SHADERDEF_MORPH_TEXTURE_BASED) !== 0;
    options.litOptions.nineSlicedMode = stdMat.nineSlicedMode || 0;

    // clustered lighting features (in shared options as shadow pass needs this too)
    if (scene.clusteredLightingEnabled && stdMat.useLighting) {
      options.litOptions.clusteredLightingEnabled = true;
      options.litOptions.clusteredLightingCookiesEnabled = scene.lighting.cookiesEnabled;
      options.litOptions.clusteredLightingShadowsEnabled = scene.lighting.shadowsEnabled;
      options.litOptions.clusteredLightingShadowType = scene.lighting.shadowType;
      options.litOptions.clusteredLightingAreaLightsEnabled = scene.lighting.areaLightsEnabled;
    } else {
      options.litOptions.clusteredLightingEnabled = false;
      options.litOptions.clusteredLightingCookiesEnabled = false;
      options.litOptions.clusteredLightingShadowsEnabled = false;
      options.litOptions.clusteredLightingAreaLightsEnabled = false;
    }
  }
  _updateUVOptions(options, stdMat, objDefs, minimalOptions) {
    let hasUv0 = false;
    let hasUv1 = false;
    let hasVcolor = false;
    if (objDefs) {
      hasUv0 = (objDefs & SHADERDEF_UV0) !== 0;
      hasUv1 = (objDefs & SHADERDEF_UV1) !== 0;
      hasVcolor = (objDefs & SHADERDEF_VCOLOR) !== 0;
    }
    options.litOptions.vertexColors = false;
    this._mapXForms = [];
    const uniqueTextureMap = {};
    for (const p in _matTex2D) {
      this._updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap);
    }
    this._mapXForms = null;

    // All texture related lit options
    options.litOptions.lightMapEnabled = options.lightMap;
    options.litOptions.dirLightMapEnabled = options.dirLightMap;
    options.litOptions.useHeights = options.heightMap;
    options.litOptions.useNormals = options.normalMap;
    options.litOptions.useClearCoatNormals = options.clearCoatNormalMap;
    options.litOptions.useAo = options.aoMap || options.aoVertexColor;
    options.litOptions.diffuseMapEnabled = options.diffuseMap;
  }
  _updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap) {
    const isOpacity = p === 'opacity';
    if (!minimalOptions || isOpacity) {
      const mname = p + 'Map';
      const vname = p + 'VertexColor';
      const vcname = p + 'VertexColorChannel';
      const cname = mname + 'Channel';
      const tname = mname + 'Transform';
      const uname = mname + 'Uv';
      const iname = mname + 'Identifier';

      // Avoid overriding previous lightMap properties
      if (p !== 'light') {
        options[mname] = false;
        options[iname] = undefined;
        options[cname] = '';
        options[tname] = 0;
        options[uname] = 0;
      }
      options[vname] = false;
      options[vcname] = '';
      if (isOpacity && stdMat.blendType === BLEND_NONE && stdMat.alphaTest === 0.0 && !stdMat.alphaToCoverage && stdMat.opacityDither === DITHER_NONE) {
        return;
      }
      if (p !== 'height' && stdMat[vname]) {
        if (hasVcolor) {
          options[vname] = stdMat[vname];
          options[vcname] = stdMat[vcname];
          options.litOptions.vertexColors = true;
        }
      }
      if (stdMat[mname]) {
        let allow = true;
        if (stdMat[uname] === 0 && !hasUv0) allow = false;
        if (stdMat[uname] === 1 && !hasUv1) allow = false;
        if (allow) {
          // create an intermediate map between the textures and their slots
          // to ensure the unique texture mapping isn't dependent on the texture id
          // as that will change when textures are changed, even if the sharing is the same
          const mapId = stdMat[mname].id;
          let identifier = uniqueTextureMap[mapId];
          if (identifier === undefined) {
            uniqueTextureMap[mapId] = p;
            identifier = p;
          }
          options[mname] = !!stdMat[mname];
          options[iname] = identifier;
          options[tname] = this._getMapTransformID(stdMat.getUniform(tname), stdMat[uname]);
          options[cname] = stdMat[cname];
          options[uname] = stdMat[uname];
        }
      }
    }
  }
  _updateMinOptions(options, stdMat) {
    options.opacityTint = stdMat.opacity !== 1 && (stdMat.blendType !== BLEND_NONE || stdMat.opacityShadowDither !== DITHER_NONE);
    options.litOptions.opacityShadowDither = stdMat.opacityShadowDither;
    options.litOptions.lights = [];
  }
  _updateMaterialOptions(options, stdMat) {
    var _stdMat$diffuseMap, _stdMat$diffuseDetail, _stdMat$emissiveMap, _stdMat$lightMap;
    const diffuseTint = (stdMat.diffuseTint || !stdMat.diffuseMap && !stdMat.diffuseVertexColor) && notWhite(stdMat.diffuse);
    const useSpecular = !!(stdMat.useMetalness || stdMat.specularMap || stdMat.sphereMap || stdMat.cubeMap || notBlack(stdMat.specular) || stdMat.specularityFactor > 0 && stdMat.useMetalness || stdMat.enableGGXSpecular || stdMat.clearCoat > 0);
    const useSpecularColor = !stdMat.useMetalness || stdMat.useMetalnessSpecularColor;
    const specularTint = useSpecular && (stdMat.specularTint || !stdMat.specularMap && !stdMat.specularVertexColor) && notWhite(stdMat.specular);
    const specularityFactorTint = useSpecular && stdMat.useMetalnessSpecularColor && (stdMat.specularityFactorTint || stdMat.specularityFactor < 1 && !stdMat.specularityFactorMap);
    const emissiveTintColor = !stdMat.emissiveMap || notWhite(stdMat.emissive) && stdMat.emissiveTint;
    const emissiveTintIntensity = stdMat.emissiveIntensity !== 1;
    const isPackedNormalMap = stdMat.normalMap ? stdMat.normalMap.format === PIXELFORMAT_DXT5 || stdMat.normalMap.type === TEXTURETYPE_SWIZZLEGGGR : false;
    options.opacityTint = stdMat.opacity !== 1 && (stdMat.blendType !== BLEND_NONE || stdMat.alphaTest > 0 || stdMat.opacityDither !== DITHER_NONE) ? 1 : 0;
    options.ambientTint = stdMat.ambientTint;
    options.diffuseTint = diffuseTint ? 2 : 0;
    options.specularTint = specularTint ? 2 : 0;
    options.specularityFactorTint = specularityFactorTint ? 1 : 0;
    options.metalnessTint = stdMat.useMetalness && stdMat.metalness < 1 ? 1 : 0;
    options.glossTint = 1;
    options.emissiveTint = (emissiveTintColor ? 2 : 0) + (emissiveTintIntensity ? 1 : 0);
    options.diffuseEncoding = (_stdMat$diffuseMap = stdMat.diffuseMap) == null ? void 0 : _stdMat$diffuseMap.encoding;
    options.diffuseDetailEncoding = (_stdMat$diffuseDetail = stdMat.diffuseDetailMap) == null ? void 0 : _stdMat$diffuseDetail.encoding;
    options.emissiveEncoding = (_stdMat$emissiveMap = stdMat.emissiveMap) == null ? void 0 : _stdMat$emissiveMap.encoding;
    options.lightMapEncoding = (_stdMat$lightMap = stdMat.lightMap) == null ? void 0 : _stdMat$lightMap.encoding;
    options.packedNormal = isPackedNormalMap;
    options.refractionTint = stdMat.refraction !== 1.0 ? 1 : 0;
    options.refractionIndexTint = stdMat.refractionIndex !== 1.0 / 1.5 ? 1 : 0;
    options.thicknessTint = stdMat.useDynamicRefraction && stdMat.thickness !== 1.0 ? 1 : 0;
    options.specularEncoding = stdMat.specularEncoding || 'linear';
    options.sheenEncoding = stdMat.sheenEncoding || 'linear';
    options.aoMapUv = stdMat.aoUvSet; // backwards compatibility
    options.aoDetail = !!stdMat.aoMap;
    options.diffuseDetail = !!stdMat.diffuseMap;
    options.normalDetail = !!stdMat.normalMap;
    options.diffuseDetailMode = stdMat.diffuseDetailMode;
    options.aoDetailMode = stdMat.aoDetailMode;
    options.clearCoatTint = stdMat.clearCoat !== 1.0 ? 1 : 0;
    options.clearCoatGloss = !!stdMat.clearCoatGloss;
    options.clearCoatGlossTint = stdMat.clearCoatGloss !== 1.0 ? 1 : 0;
    options.iorTint = stdMat.refractionIndex !== 1.0 / 1.5 ? 1 : 0;
    options.iridescenceTint = stdMat.iridescence !== 1.0 ? 1 : 0;
    options.sheenTint = stdMat.useSheen && notWhite(stdMat.sheen) ? 2 : 0;
    options.sheenGlossTint = 1;
    options.glossInvert = stdMat.glossInvert;
    options.sheenGlossInvert = stdMat.sheenGlossInvert;
    options.clearCoatGlossInvert = stdMat.clearCoatGlossInvert;
    options.useSpecularColor = useSpecularColor;

    // LIT OPTIONS
    options.litOptions.separateAmbient = false; // store ambient light color in separate variable, instead of adding it to diffuse directly
    options.litOptions.useAmbientTint = stdMat.ambientTint;
    options.litOptions.customFragmentShader = stdMat.customFragmentShader;
    options.litOptions.pixelSnap = stdMat.pixelSnap;
    options.litOptions.shadingModel = stdMat.shadingModel;
    options.litOptions.ambientSH = !!stdMat.ambientSH;
    options.litOptions.fastTbn = stdMat.fastTbn;
    options.litOptions.twoSidedLighting = stdMat.twoSidedLighting;
    options.litOptions.occludeSpecular = stdMat.occludeSpecular;
    options.litOptions.occludeSpecularFloat = stdMat.occludeSpecularIntensity !== 1.0;
    options.litOptions.useMsdf = !!stdMat.msdfMap;
    options.litOptions.msdfTextAttribute = !!stdMat.msdfTextAttribute;
    options.litOptions.alphaToCoverage = stdMat.alphaToCoverage;
    options.litOptions.opacityFadesSpecular = stdMat.opacityFadesSpecular;
    options.litOptions.opacityDither = stdMat.opacityDither;
    options.litOptions.cubeMapProjection = stdMat.cubeMapProjection;
    options.litOptions.occludeDirect = stdMat.occludeDirect;
    options.litOptions.conserveEnergy = stdMat.conserveEnergy && stdMat.shadingModel !== SPECULAR_PHONG;
    options.litOptions.useSpecular = useSpecular;
    options.litOptions.useSpecularityFactor = (specularityFactorTint || !!stdMat.specularityFactorMap) && stdMat.useMetalnessSpecularColor;
    options.litOptions.enableGGXSpecular = stdMat.enableGGXSpecular;
    options.litOptions.fresnelModel = stdMat.fresnelModel;
    options.litOptions.useRefraction = (stdMat.refraction || !!stdMat.refractionMap) && (stdMat.useDynamicRefraction || !!options.litOptions.reflectionSource);
    options.litOptions.useClearCoat = !!stdMat.clearCoat;
    options.litOptions.useSheen = stdMat.useSheen;
    options.litOptions.useIridescence = stdMat.useIridescence && stdMat.iridescence !== 0.0;
    options.litOptions.useMetalness = stdMat.useMetalness;
    options.litOptions.useDynamicRefraction = stdMat.useDynamicRefraction;
  }
  _updateEnvOptions(options, stdMat, scene) {
    options.litOptions.fog = stdMat.useFog ? scene.fog : 'none';
    options.litOptions.gamma = stdMat.useGammaTonemap ? scene.gammaCorrection : GAMMA_NONE;
    options.litOptions.toneMap = stdMat.useGammaTonemap ? scene.toneMapping : -1;
    options.litOptions.fixSeams = stdMat.cubeMap ? stdMat.cubeMap.fixCubemapSeams : false;
    const isPhong = stdMat.shadingModel === SPECULAR_PHONG;
    let usingSceneEnv = false;

    // source of environment reflections is as follows:
    if (stdMat.envAtlas && stdMat.cubeMap && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
      options.litOptions.reflectionCubemapEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.cubeMap) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.sphereMap) {
      options.litOptions.reflectionSource = 'sphereMap';
      options.litOptions.reflectionEncoding = stdMat.sphereMap.encoding;
    } else if (stdMat.useSkybox && scene.envAtlas && scene.skybox && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      options.litOptions.reflectionCubemapEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.skybox) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else {
      options.litOptions.reflectionSource = null;
      options.litOptions.reflectionEncoding = null;
    }

    // source of environment ambient is as follows:
    if (stdMat.ambientSH && !isPhong) {
      options.litOptions.ambientSource = 'ambientSH';
      options.litOptions.ambientEncoding = null;
    } else {
      const envAtlas = stdMat.envAtlas || (stdMat.useSkybox && scene.envAtlas ? scene.envAtlas : null);
      if (envAtlas && !isPhong) {
        options.litOptions.ambientSource = 'envAtlas';
        options.litOptions.ambientEncoding = envAtlas.encoding;
      } else {
        options.litOptions.ambientSource = 'constant';
        options.litOptions.ambientEncoding = null;
      }
    }

    // TODO: add a test for if non skybox cubemaps have rotation (when this is supported) - for now assume no non-skybox cubemap rotation
    options.litOptions.skyboxIntensity = usingSceneEnv && (scene.skyboxIntensity !== 1 || scene.physicalUnits);
    options.litOptions.useCubeMapRotation = usingSceneEnv && scene._skyboxRotationShaderInclude;
  }
  _updateLightOptions(options, scene, stdMat, objDefs, sortedLights) {
    options.lightMap = false;
    options.lightMapChannel = '';
    options.lightMapUv = 0;
    options.lightMapTransform = 0;
    options.litOptions.lightMapWithoutAmbient = false;
    options.dirLightMap = false;
    if (objDefs) {
      options.litOptions.noShadow = (objDefs & SHADERDEF_NOSHADOW) !== 0;
      if ((objDefs & SHADERDEF_LM) !== 0) {
        options.lightMapEncoding = scene.lightmapPixelFormat === PIXELFORMAT_RGBA8 ? 'rgbm' : 'linear';
        options.lightMap = true;
        options.lightMapChannel = 'rgb';
        options.lightMapUv = 1;
        options.lightMapTransform = 0;
        options.litOptions.lightMapWithoutAmbient = !stdMat.lightMap;
        if ((objDefs & SHADERDEF_DIRLM) !== 0) {
          options.dirLightMap = true;
        }

        // if lightmaps contain baked ambient light, disable real-time ambient light
        if ((objDefs & SHADERDEF_LMAMBIENT) !== 0) {
          options.litOptions.lightMapWithoutAmbient = false;
        }
      }
    }
    if (stdMat.useLighting) {
      const lightsFiltered = [];
      const mask = objDefs ? objDefs >> 16 : MASK_AFFECT_DYNAMIC;

      // mask to select lights (dynamic vs lightmapped) when using clustered lighting
      options.litOptions.lightMaskDynamic = !!(mask & MASK_AFFECT_DYNAMIC);
      if (sortedLights) {
        LitMaterialOptionsBuilder.collectLights(LIGHTTYPE_DIRECTIONAL, sortedLights[LIGHTTYPE_DIRECTIONAL], lightsFiltered, mask);
        LitMaterialOptionsBuilder.collectLights(LIGHTTYPE_OMNI, sortedLights[LIGHTTYPE_OMNI], lightsFiltered, mask);
        LitMaterialOptionsBuilder.collectLights(LIGHTTYPE_SPOT, sortedLights[LIGHTTYPE_SPOT], lightsFiltered, mask);
      }
      options.litOptions.lights = lightsFiltered;
    } else {
      options.litOptions.lights = [];
    }
    if (options.litOptions.lights.length === 0) {
      options.litOptions.noShadow = true;
    }
  }
  _getMapTransformID(xform, uv) {
    if (!xform) return 0;
    let xforms = this._mapXForms[uv];
    if (!xforms) {
      xforms = [];
      this._mapXForms[uv] = xforms;
    }
    for (let i = 0; i < xforms.length; i++) {
      if (arraysEqual(xforms[i][0].value, xform[0].value) && arraysEqual(xforms[i][1].value, xform[1].value)) {
        return i + 1;
      }
    }
    return xforms.push(xform);
  }
}

export { StandardMaterialOptionsBuilder };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhbmRhcmQtbWF0ZXJpYWwtb3B0aW9ucy1idWlsZGVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvc2NlbmUvbWF0ZXJpYWxzL3N0YW5kYXJkLW1hdGVyaWFsLW9wdGlvbnMtYnVpbGRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIFBJWEVMRk9STUFUX0RYVDUsIFBJWEVMRk9STUFUX1JHQkE4LCBURVhUVVJFVFlQRV9TV0laWkxFR0dHUlxufSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQge1xuICAgIEJMRU5EX05PTkUsXG4gICAgR0FNTUFfTk9ORSwgR0FNTUFfU1JHQkhEUixcbiAgICBMSUdIVFRZUEVfRElSRUNUSU9OQUwsIExJR0hUVFlQRV9PTU5JLCBMSUdIVFRZUEVfU1BPVCxcbiAgICBNQVNLX0FGRkVDVF9EWU5BTUlDLFxuICAgIFNIQURFUl9GT1JXQVJESERSLFxuICAgIFNIQURFUkRFRl9ESVJMTSwgU0hBREVSREVGX0lOU1RBTkNJTkcsIFNIQURFUkRFRl9MTSwgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OLCBTSEFERVJERUZfTU9SUEhfTk9STUFMLCBTSEFERVJERUZfTk9TSEFET1csIFNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VELFxuICAgIFNIQURFUkRFRl9TQ1JFRU5TUEFDRSwgU0hBREVSREVGX1NLSU4sIFNIQURFUkRFRl9UQU5HRU5UUywgU0hBREVSREVGX1VWMCwgU0hBREVSREVGX1VWMSwgU0hBREVSREVGX1ZDT0xPUiwgU0hBREVSREVGX0xNQU1CSUVOVCxcbiAgICBUT05FTUFQX0xJTkVBUixcbiAgICBTUEVDVUxBUl9QSE9ORyxcbiAgICBESVRIRVJfTk9ORVxufSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgX21hdFRleDJEIH0gZnJvbSAnLi4vc2hhZGVyLWxpYi9wcm9ncmFtcy9zdGFuZGFyZC5qcyc7XG5pbXBvcnQgeyBMaXRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIH0gZnJvbSAnLi9saXQtbWF0ZXJpYWwtb3B0aW9ucy1idWlsZGVyLmpzJztcblxuY29uc3QgYXJyYXlzRXF1YWwgPSAoYSwgYikgPT4ge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IG5vdFdoaXRlID0gKGNvbG9yKSA9PiB7XG4gICAgcmV0dXJuIGNvbG9yLnIgIT09IDEgfHwgY29sb3IuZyAhPT0gMSB8fCBjb2xvci5iICE9PSAxO1xufTtcblxuY29uc3Qgbm90QmxhY2sgPSAoY29sb3IpID0+IHtcbiAgICByZXR1cm4gY29sb3IuciAhPT0gMCB8fCBjb2xvci5nICE9PSAwIHx8IGNvbG9yLmIgIT09IDA7XG59O1xuXG5jbGFzcyBTdGFuZGFyZE1hdGVyaWFsT3B0aW9uc0J1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9tYXBYRm9ybXMgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIE1pbmltYWwgb3B0aW9ucyBmb3IgRGVwdGggYW5kIFNoYWRvdyBwYXNzZXNcbiAgICB1cGRhdGVNaW5SZWYob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcywgc29ydGVkTGlnaHRzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1pbk9wdGlvbnMob3B0aW9ucywgc3RkTWF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdXBkYXRlUmVmKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHBhc3MsIHNvcnRlZExpZ2h0cykge1xuICAgICAgICB0aGlzLl91cGRhdGVTaGFyZWRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHBhc3MpO1xuICAgICAgICB0aGlzLl91cGRhdGVFbnZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgc2NlbmUpO1xuICAgICAgICB0aGlzLl91cGRhdGVNYXRlcmlhbE9wdGlvbnMob3B0aW9ucywgc3RkTWF0KTtcbiAgICAgICAgaWYgKHBhc3MgPT09IFNIQURFUl9GT1JXQVJESERSKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5saXRPcHRpb25zLmdhbW1hKSBvcHRpb25zLmxpdE9wdGlvbnMuZ2FtbWEgPSBHQU1NQV9TUkdCSERSO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnRvbmVNYXAgPSBUT05FTUFQX0xJTkVBUjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuaGFzVGFuZ2VudHMgPSBvYmpEZWZzICYmICgob2JqRGVmcyAmIFNIQURFUkRFRl9UQU5HRU5UUykgIT09IDApO1xuICAgICAgICB0aGlzLl91cGRhdGVMaWdodE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc29ydGVkTGlnaHRzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgZmFsc2UpO1xuICAgIH1cblxuICAgIF91cGRhdGVTaGFyZWRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHBhc3MpIHtcbiAgICAgICAgb3B0aW9ucy5mb3JjZVV2MSA9IHN0ZE1hdC5mb3JjZVV2MTtcblxuICAgICAgICAvLyBVU0VSIEFUVFJJQlVURVNcbiAgICAgICAgaWYgKHN0ZE1hdC51c2VyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZXJBdHRyaWJ1dGVzID0gT2JqZWN0LmZyb21FbnRyaWVzKHN0ZE1hdC51c2VyQXR0cmlidXRlcy5lbnRyaWVzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNodW5rcyA9IHN0ZE1hdC5jaHVua3MgfHwge307XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5wYXNzID0gcGFzcztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFscGhhVGVzdCA9IHN0ZE1hdC5hbHBoYVRlc3QgPiAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYmxlbmRUeXBlID0gc3RkTWF0LmJsZW5kVHlwZTtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2NyZWVuU3BhY2UgPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX1NDUkVFTlNQQUNFKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNraW4gPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX1NLSU4pICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlSW5zdGFuY2luZyA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfSU5TVEFOQ0lORykgIT09IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VNb3JwaFBvc2l0aW9uID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9NT1JQSF9QT1NJVElPTikgIT09IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VNb3JwaE5vcm1hbCA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfTU9SUEhfTk9STUFMKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoVGV4dHVyZUJhc2VkID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VEKSAhPT0gMDtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubmluZVNsaWNlZE1vZGUgPSBzdGRNYXQubmluZVNsaWNlZE1vZGUgfHwgMDtcblxuICAgICAgICAvLyBjbHVzdGVyZWQgbGlnaHRpbmcgZmVhdHVyZXMgKGluIHNoYXJlZCBvcHRpb25zIGFzIHNoYWRvdyBwYXNzIG5lZWRzIHRoaXMgdG9vKVxuICAgICAgICBpZiAoc2NlbmUuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkICYmIHN0ZE1hdC51c2VMaWdodGluZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdDb29raWVzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLmNvb2tpZXNFbmFibGVkO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93c0VuYWJsZWQgPSBzY2VuZS5saWdodGluZy5zaGFkb3dzRW5hYmxlZDtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ1NoYWRvd1R5cGUgPSBzY2VuZS5saWdodGluZy5zaGFkb3dUeXBlO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQgPSBzY2VuZS5saWdodGluZy5hcmVhTGlnaHRzRW5hYmxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVVVk9wdGlvbnMob3B0aW9ucywgc3RkTWF0LCBvYmpEZWZzLCBtaW5pbWFsT3B0aW9ucykge1xuICAgICAgICBsZXQgaGFzVXYwID0gZmFsc2U7XG4gICAgICAgIGxldCBoYXNVdjEgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc1Zjb2xvciA9IGZhbHNlO1xuICAgICAgICBpZiAob2JqRGVmcykge1xuICAgICAgICAgICAgaGFzVXYwID0gKG9iakRlZnMgJiBTSEFERVJERUZfVVYwKSAhPT0gMDtcbiAgICAgICAgICAgIGhhc1V2MSA9IChvYmpEZWZzICYgU0hBREVSREVGX1VWMSkgIT09IDA7XG4gICAgICAgICAgICBoYXNWY29sb3IgPSAob2JqRGVmcyAmIFNIQURFUkRFRl9WQ09MT1IpICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnZlcnRleENvbG9ycyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tYXBYRm9ybXMgPSBbXTtcblxuICAgICAgICBjb25zdCB1bmlxdWVUZXh0dXJlTWFwID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcCBpbiBfbWF0VGV4MkQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRleE9wdGlvbnMob3B0aW9ucywgc3RkTWF0LCBwLCBoYXNVdjAsIGhhc1V2MSwgaGFzVmNvbG9yLCBtaW5pbWFsT3B0aW9ucywgdW5pcXVlVGV4dHVyZU1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwWEZvcm1zID0gbnVsbDtcblxuICAgICAgICAvLyBBbGwgdGV4dHVyZSByZWxhdGVkIGxpdCBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hcEVuYWJsZWQgPSBvcHRpb25zLmxpZ2h0TWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZGlyTGlnaHRNYXBFbmFibGVkID0gb3B0aW9ucy5kaXJMaWdodE1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUhlaWdodHMgPSBvcHRpb25zLmhlaWdodE1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU5vcm1hbHMgPSBvcHRpb25zLm5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUNsZWFyQ29hdE5vcm1hbHMgPSBvcHRpb25zLmNsZWFyQ29hdE5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUFvID0gb3B0aW9ucy5hb01hcCB8fCBvcHRpb25zLmFvVmVydGV4Q29sb3I7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5kaWZmdXNlTWFwRW5hYmxlZCA9IG9wdGlvbnMuZGlmZnVzZU1hcDtcbiAgICB9XG5cbiAgICBfdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKSB7XG4gICAgICAgIGNvbnN0IGlzT3BhY2l0eSA9IHAgPT09ICdvcGFjaXR5JztcblxuICAgICAgICBpZiAoIW1pbmltYWxPcHRpb25zIHx8IGlzT3BhY2l0eSkge1xuICAgICAgICAgICAgY29uc3QgbW5hbWUgPSBwICsgJ01hcCc7XG4gICAgICAgICAgICBjb25zdCB2bmFtZSA9IHAgKyAnVmVydGV4Q29sb3InO1xuICAgICAgICAgICAgY29uc3QgdmNuYW1lID0gcCArICdWZXJ0ZXhDb2xvckNoYW5uZWwnO1xuICAgICAgICAgICAgY29uc3QgY25hbWUgPSBtbmFtZSArICdDaGFubmVsJztcbiAgICAgICAgICAgIGNvbnN0IHRuYW1lID0gbW5hbWUgKyAnVHJhbnNmb3JtJztcbiAgICAgICAgICAgIGNvbnN0IHVuYW1lID0gbW5hbWUgKyAnVXYnO1xuICAgICAgICAgICAgY29uc3QgaW5hbWUgPSBtbmFtZSArICdJZGVudGlmaWVyJztcblxuICAgICAgICAgICAgLy8gQXZvaWQgb3ZlcnJpZGluZyBwcmV2aW91cyBsaWdodE1hcCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAocCAhPT0gJ2xpZ2h0Jykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNbbW5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1tpbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1tjbmFtZV0gPSAnJztcbiAgICAgICAgICAgICAgICBvcHRpb25zW3RuYW1lXSA9IDA7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1t1bmFtZV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9uc1t2bmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnNbdmNuYW1lXSA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoaXNPcGFjaXR5ICYmIHN0ZE1hdC5ibGVuZFR5cGUgPT09IEJMRU5EX05PTkUgJiYgc3RkTWF0LmFscGhhVGVzdCA9PT0gMC4wICYmICFzdGRNYXQuYWxwaGFUb0NvdmVyYWdlICYmIHN0ZE1hdC5vcGFjaXR5RGl0aGVyID09PSBESVRIRVJfTk9ORSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHAgIT09ICdoZWlnaHQnICYmIHN0ZE1hdFt2bmFtZV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzVmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdm5hbWVdID0gc3RkTWF0W3ZuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1t2Y25hbWVdID0gc3RkTWF0W3ZjbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy52ZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGRNYXRbbW5hbWVdKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFsbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RkTWF0W3VuYW1lXSA9PT0gMCAmJiAhaGFzVXYwKSBhbGxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzdGRNYXRbdW5hbWVdID09PSAxICYmICFoYXNVdjEpIGFsbG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGludGVybWVkaWF0ZSBtYXAgYmV0d2VlbiB0aGUgdGV4dHVyZXMgYW5kIHRoZWlyIHNsb3RzXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGVuc3VyZSB0aGUgdW5pcXVlIHRleHR1cmUgbWFwcGluZyBpc24ndCBkZXBlbmRlbnQgb24gdGhlIHRleHR1cmUgaWRcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgdGhhdCB3aWxsIGNoYW5nZSB3aGVuIHRleHR1cmVzIGFyZSBjaGFuZ2VkLCBldmVuIGlmIHRoZSBzaGFyaW5nIGlzIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcElkID0gc3RkTWF0W21uYW1lXS5pZDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkZW50aWZpZXIgPSB1bmlxdWVUZXh0dXJlTWFwW21hcElkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlVGV4dHVyZU1hcFttYXBJZF0gPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllciA9IHA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW21uYW1lXSA9ICEhc3RkTWF0W21uYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpbmFtZV0gPSBpZGVudGlmaWVyO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3RuYW1lXSA9IHRoaXMuX2dldE1hcFRyYW5zZm9ybUlEKHN0ZE1hdC5nZXRVbmlmb3JtKHRuYW1lKSwgc3RkTWF0W3VuYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbY25hbWVdID0gc3RkTWF0W2NuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1t1bmFtZV0gPSBzdGRNYXRbdW5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVNaW5PcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCkge1xuICAgICAgICBvcHRpb25zLm9wYWNpdHlUaW50ID0gc3RkTWF0Lm9wYWNpdHkgIT09IDEgJiYgKHN0ZE1hdC5ibGVuZFR5cGUgIT09IEJMRU5EX05PTkUgfHwgc3RkTWF0Lm9wYWNpdHlTaGFkb3dEaXRoZXIgIT09IERJVEhFUl9OT05FKTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9wYWNpdHlTaGFkb3dEaXRoZXIgPSBzdGRNYXQub3BhY2l0eVNoYWRvd0RpdGhlcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cyA9IFtdO1xuICAgIH1cblxuICAgIF91cGRhdGVNYXRlcmlhbE9wdGlvbnMob3B0aW9ucywgc3RkTWF0KSB7XG4gICAgICAgIGNvbnN0IGRpZmZ1c2VUaW50ID0gKHN0ZE1hdC5kaWZmdXNlVGludCB8fCAoIXN0ZE1hdC5kaWZmdXNlTWFwICYmICFzdGRNYXQuZGlmZnVzZVZlcnRleENvbG9yKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RXaGl0ZShzdGRNYXQuZGlmZnVzZSk7XG5cbiAgICAgICAgY29uc3QgdXNlU3BlY3VsYXIgPSAhIShzdGRNYXQudXNlTWV0YWxuZXNzIHx8IHN0ZE1hdC5zcGVjdWxhck1hcCB8fCBzdGRNYXQuc3BoZXJlTWFwIHx8IHN0ZE1hdC5jdWJlTWFwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QmxhY2soc3RkTWF0LnNwZWN1bGFyKSB8fCAoc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yID4gMCAmJiBzdGRNYXQudXNlTWV0YWxuZXNzKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZE1hdC5lbmFibGVHR1hTcGVjdWxhciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRNYXQuY2xlYXJDb2F0ID4gMCkpO1xuXG4gICAgICAgIGNvbnN0IHVzZVNwZWN1bGFyQ29sb3IgPSAoIXN0ZE1hdC51c2VNZXRhbG5lc3MgfHwgc3RkTWF0LnVzZU1ldGFsbmVzc1NwZWN1bGFyQ29sb3IpO1xuICAgICAgICBjb25zdCBzcGVjdWxhclRpbnQgPSB1c2VTcGVjdWxhciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RkTWF0LnNwZWN1bGFyVGludCB8fCAoIXN0ZE1hdC5zcGVjdWxhck1hcCAmJiAhc3RkTWF0LnNwZWN1bGFyVmVydGV4Q29sb3IpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RXaGl0ZShzdGRNYXQuc3BlY3VsYXIpO1xuXG4gICAgICAgIGNvbnN0IHNwZWN1bGFyaXR5RmFjdG9yVGludCA9IHVzZVNwZWN1bGFyICYmIHN0ZE1hdC51c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3JUaW50IHx8IChzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3IgPCAxICYmICFzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3JNYXApKTtcblxuICAgICAgICBjb25zdCBlbWlzc2l2ZVRpbnRDb2xvciA9ICFzdGRNYXQuZW1pc3NpdmVNYXAgfHwgKG5vdFdoaXRlKHN0ZE1hdC5lbWlzc2l2ZSkgJiYgc3RkTWF0LmVtaXNzaXZlVGludCk7XG4gICAgICAgIGNvbnN0IGVtaXNzaXZlVGludEludGVuc2l0eSA9IChzdGRNYXQuZW1pc3NpdmVJbnRlbnNpdHkgIT09IDEpO1xuXG4gICAgICAgIGNvbnN0IGlzUGFja2VkTm9ybWFsTWFwID0gc3RkTWF0Lm5vcm1hbE1hcCA/IChzdGRNYXQubm9ybWFsTWFwLmZvcm1hdCA9PT0gUElYRUxGT1JNQVRfRFhUNSB8fCBzdGRNYXQubm9ybWFsTWFwLnR5cGUgPT09IFRFWFRVUkVUWVBFX1NXSVpaTEVHR0dSKSA6IGZhbHNlO1xuXG4gICAgICAgIG9wdGlvbnMub3BhY2l0eVRpbnQgPSAoc3RkTWF0Lm9wYWNpdHkgIT09IDEgJiYgKHN0ZE1hdC5ibGVuZFR5cGUgIT09IEJMRU5EX05PTkUgfHwgc3RkTWF0LmFscGhhVGVzdCA+IDAgfHwgc3RkTWF0Lm9wYWNpdHlEaXRoZXIgIT09IERJVEhFUl9OT05FKSkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5hbWJpZW50VGludCA9IHN0ZE1hdC5hbWJpZW50VGludDtcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlVGludCA9IGRpZmZ1c2VUaW50ID8gMiA6IDA7XG4gICAgICAgIG9wdGlvbnMuc3BlY3VsYXJUaW50ID0gc3BlY3VsYXJUaW50ID8gMiA6IDA7XG4gICAgICAgIG9wdGlvbnMuc3BlY3VsYXJpdHlGYWN0b3JUaW50ID0gc3BlY3VsYXJpdHlGYWN0b3JUaW50ID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMubWV0YWxuZXNzVGludCA9IChzdGRNYXQudXNlTWV0YWxuZXNzICYmIHN0ZE1hdC5tZXRhbG5lc3MgPCAxKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLmdsb3NzVGludCA9IDE7XG4gICAgICAgIG9wdGlvbnMuZW1pc3NpdmVUaW50ID0gKGVtaXNzaXZlVGludENvbG9yID8gMiA6IDApICsgKGVtaXNzaXZlVGludEludGVuc2l0eSA/IDEgOiAwKTtcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlRW5jb2RpbmcgPSBzdGRNYXQuZGlmZnVzZU1hcD8uZW5jb2Rpbmc7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZURldGFpbEVuY29kaW5nID0gc3RkTWF0LmRpZmZ1c2VEZXRhaWxNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLmVtaXNzaXZlRW5jb2RpbmcgPSBzdGRNYXQuZW1pc3NpdmVNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwRW5jb2RpbmcgPSBzdGRNYXQubGlnaHRNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLnBhY2tlZE5vcm1hbCA9IGlzUGFja2VkTm9ybWFsTWFwO1xuICAgICAgICBvcHRpb25zLnJlZnJhY3Rpb25UaW50ID0gKHN0ZE1hdC5yZWZyYWN0aW9uICE9PSAxLjApID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMucmVmcmFjdGlvbkluZGV4VGludCA9IChzdGRNYXQucmVmcmFjdGlvbkluZGV4ICE9PSAxLjAgLyAxLjUpID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMudGhpY2tuZXNzVGludCA9IChzdGRNYXQudXNlRHluYW1pY1JlZnJhY3Rpb24gJiYgc3RkTWF0LnRoaWNrbmVzcyAhPT0gMS4wKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLnNwZWN1bGFyRW5jb2RpbmcgPSBzdGRNYXQuc3BlY3VsYXJFbmNvZGluZyB8fCAnbGluZWFyJztcbiAgICAgICAgb3B0aW9ucy5zaGVlbkVuY29kaW5nID0gc3RkTWF0LnNoZWVuRW5jb2RpbmcgfHwgJ2xpbmVhcic7XG4gICAgICAgIG9wdGlvbnMuYW9NYXBVdiA9IHN0ZE1hdC5hb1V2U2V0OyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICBvcHRpb25zLmFvRGV0YWlsID0gISFzdGRNYXQuYW9NYXA7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZURldGFpbCA9ICEhc3RkTWF0LmRpZmZ1c2VNYXA7XG4gICAgICAgIG9wdGlvbnMubm9ybWFsRGV0YWlsID0gISFzdGRNYXQubm9ybWFsTWFwO1xuICAgICAgICBvcHRpb25zLmRpZmZ1c2VEZXRhaWxNb2RlID0gc3RkTWF0LmRpZmZ1c2VEZXRhaWxNb2RlO1xuICAgICAgICBvcHRpb25zLmFvRGV0YWlsTW9kZSA9IHN0ZE1hdC5hb0RldGFpbE1vZGU7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0VGludCA9IChzdGRNYXQuY2xlYXJDb2F0ICE9PSAxLjApID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0R2xvc3MgPSAhIXN0ZE1hdC5jbGVhckNvYXRHbG9zcztcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zc1RpbnQgPSAoc3RkTWF0LmNsZWFyQ29hdEdsb3NzICE9PSAxLjApID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuaW9yVGludCA9IHN0ZE1hdC5yZWZyYWN0aW9uSW5kZXggIT09IDEuMCAvIDEuNSA/IDEgOiAwO1xuXG4gICAgICAgIG9wdGlvbnMuaXJpZGVzY2VuY2VUaW50ID0gc3RkTWF0LmlyaWRlc2NlbmNlICE9PSAxLjAgPyAxIDogMDtcblxuICAgICAgICBvcHRpb25zLnNoZWVuVGludCA9IChzdGRNYXQudXNlU2hlZW4gJiYgbm90V2hpdGUoc3RkTWF0LnNoZWVuKSkgPyAyIDogMDtcbiAgICAgICAgb3B0aW9ucy5zaGVlbkdsb3NzVGludCA9IDE7XG5cbiAgICAgICAgb3B0aW9ucy5nbG9zc0ludmVydCA9IHN0ZE1hdC5nbG9zc0ludmVydDtcbiAgICAgICAgb3B0aW9ucy5zaGVlbkdsb3NzSW52ZXJ0ID0gc3RkTWF0LnNoZWVuR2xvc3NJbnZlcnQ7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0R2xvc3NJbnZlcnQgPSBzdGRNYXQuY2xlYXJDb2F0R2xvc3NJbnZlcnQ7XG5cbiAgICAgICAgb3B0aW9ucy51c2VTcGVjdWxhckNvbG9yID0gdXNlU3BlY3VsYXJDb2xvcjtcblxuICAgICAgICAvLyBMSVQgT1BUSU9OU1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2VwYXJhdGVBbWJpZW50ID0gZmFsc2U7ICAgIC8vIHN0b3JlIGFtYmllbnQgbGlnaHQgY29sb3IgaW4gc2VwYXJhdGUgdmFyaWFibGUsIGluc3RlYWQgb2YgYWRkaW5nIGl0IHRvIGRpZmZ1c2UgZGlyZWN0bHlcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUFtYmllbnRUaW50ID0gc3RkTWF0LmFtYmllbnRUaW50O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY3VzdG9tRnJhZ21lbnRTaGFkZXIgPSBzdGRNYXQuY3VzdG9tRnJhZ21lbnRTaGFkZXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5waXhlbFNuYXAgPSBzdGRNYXQucGl4ZWxTbmFwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5zaGFkaW5nTW9kZWwgPSBzdGRNYXQuc2hhZGluZ01vZGVsO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudFNIID0gISFzdGRNYXQuYW1iaWVudFNIO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZmFzdFRibiA9IHN0ZE1hdC5mYXN0VGJuO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudHdvU2lkZWRMaWdodGluZyA9IHN0ZE1hdC50d29TaWRlZExpZ2h0aW5nO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub2NjbHVkZVNwZWN1bGFyID0gc3RkTWF0Lm9jY2x1ZGVTcGVjdWxhcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9jY2x1ZGVTcGVjdWxhckZsb2F0ID0gKHN0ZE1hdC5vY2NsdWRlU3BlY3VsYXJJbnRlbnNpdHkgIT09IDEuMCk7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1zZGYgPSAhIXN0ZE1hdC5tc2RmTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubXNkZlRleHRBdHRyaWJ1dGUgPSAhIXN0ZE1hdC5tc2RmVGV4dEF0dHJpYnV0ZTtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYWxwaGFUb0NvdmVyYWdlID0gc3RkTWF0LmFscGhhVG9Db3ZlcmFnZTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9wYWNpdHlGYWRlc1NwZWN1bGFyID0gc3RkTWF0Lm9wYWNpdHlGYWRlc1NwZWN1bGFyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub3BhY2l0eURpdGhlciA9IHN0ZE1hdC5vcGFjaXR5RGl0aGVyO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jdWJlTWFwUHJvamVjdGlvbiA9IHN0ZE1hdC5jdWJlTWFwUHJvamVjdGlvbjtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub2NjbHVkZURpcmVjdCA9IHN0ZE1hdC5vY2NsdWRlRGlyZWN0O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY29uc2VydmVFbmVyZ3kgPSBzdGRNYXQuY29uc2VydmVFbmVyZ3kgJiYgc3RkTWF0LnNoYWRpbmdNb2RlbCAhPT0gU1BFQ1VMQVJfUEhPTkc7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VTcGVjdWxhciA9IHVzZVNwZWN1bGFyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlU3BlY3VsYXJpdHlGYWN0b3IgPSAoc3BlY3VsYXJpdHlGYWN0b3JUaW50IHx8ICEhc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yTWFwKSAmJiBzdGRNYXQudXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmVuYWJsZUdHWFNwZWN1bGFyID0gc3RkTWF0LmVuYWJsZUdHWFNwZWN1bGFyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZnJlc25lbE1vZGVsID0gc3RkTWF0LmZyZXNuZWxNb2RlbDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVJlZnJhY3Rpb24gPSAoc3RkTWF0LnJlZnJhY3Rpb24gfHwgISFzdGRNYXQucmVmcmFjdGlvbk1hcCkgJiYgKHN0ZE1hdC51c2VEeW5hbWljUmVmcmFjdGlvbiB8fCAhIW9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlKTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUNsZWFyQ29hdCA9ICEhc3RkTWF0LmNsZWFyQ29hdDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVNoZWVuID0gc3RkTWF0LnVzZVNoZWVuO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlSXJpZGVzY2VuY2UgPSBzdGRNYXQudXNlSXJpZGVzY2VuY2UgJiYgc3RkTWF0LmlyaWRlc2NlbmNlICE9PSAwLjA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VNZXRhbG5lc3MgPSBzdGRNYXQudXNlTWV0YWxuZXNzO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlRHluYW1pY1JlZnJhY3Rpb24gPSBzdGRNYXQudXNlRHluYW1pY1JlZnJhY3Rpb247XG4gICAgfVxuXG4gICAgX3VwZGF0ZUVudk9wdGlvbnMob3B0aW9ucywgc3RkTWF0LCBzY2VuZSkge1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZm9nID0gc3RkTWF0LnVzZUZvZyA/IHNjZW5lLmZvZyA6ICdub25lJztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmdhbW1hID0gc3RkTWF0LnVzZUdhbW1hVG9uZW1hcCA/IHNjZW5lLmdhbW1hQ29ycmVjdGlvbiA6IEdBTU1BX05PTkU7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy50b25lTWFwID0gc3RkTWF0LnVzZUdhbW1hVG9uZW1hcCA/IHNjZW5lLnRvbmVNYXBwaW5nIDogLTE7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5maXhTZWFtcyA9IChzdGRNYXQuY3ViZU1hcCA/IHN0ZE1hdC5jdWJlTWFwLmZpeEN1YmVtYXBTZWFtcyA6IGZhbHNlKTtcblxuICAgICAgICBjb25zdCBpc1Bob25nID0gc3RkTWF0LnNoYWRpbmdNb2RlbCA9PT0gU1BFQ1VMQVJfUEhPTkc7XG5cbiAgICAgICAgbGV0IHVzaW5nU2NlbmVFbnYgPSBmYWxzZTtcblxuICAgICAgICAvLyBzb3VyY2Ugb2YgZW52aXJvbm1lbnQgcmVmbGVjdGlvbnMgaXMgYXMgZm9sbG93czpcbiAgICAgICAgaWYgKHN0ZE1hdC5lbnZBdGxhcyAmJiBzdGRNYXQuY3ViZU1hcCAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnZW52QXRsYXNIUSc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc3RkTWF0LmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25DdWJlbWFwRW5jb2RpbmcgPSBzdGRNYXQuY3ViZU1hcC5lbmNvZGluZztcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQuZW52QXRsYXMgJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2VudkF0bGFzJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuZW52QXRsYXMuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LmN1YmVNYXApIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2N1YmVNYXAnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHN0ZE1hdC5jdWJlTWFwLmVuY29kaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC5zcGhlcmVNYXApIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ3NwaGVyZU1hcCc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc3RkTWF0LnNwaGVyZU1hcC5lbmNvZGluZztcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQudXNlU2t5Ym94ICYmIHNjZW5lLmVudkF0bGFzICYmIHNjZW5lLnNreWJveCAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnZW52QXRsYXNIUSc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc2NlbmUuZW52QXRsYXMuZW5jb2Rpbmc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkN1YmVtYXBFbmNvZGluZyA9IHNjZW5lLnNreWJveC5lbmNvZGluZztcbiAgICAgICAgICAgIHVzaW5nU2NlbmVFbnYgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuZW52QXRsYXMgJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2VudkF0bGFzJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzY2VuZS5lbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgICAgIHVzaW5nU2NlbmVFbnYgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuc2t5Ym94KSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdjdWJlTWFwJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzY2VuZS5za3lib3guZW5jb2Rpbmc7XG4gICAgICAgICAgICB1c2luZ1NjZW5lRW52ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gbnVsbDtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc291cmNlIG9mIGVudmlyb25tZW50IGFtYmllbnQgaXMgYXMgZm9sbG93czpcbiAgICAgICAgaWYgKHN0ZE1hdC5hbWJpZW50U0ggJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50U291cmNlID0gJ2FtYmllbnRTSCc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudEVuY29kaW5nID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVudkF0bGFzID0gc3RkTWF0LmVudkF0bGFzIHx8IChzdGRNYXQudXNlU2t5Ym94ICYmIHNjZW5lLmVudkF0bGFzID8gc2NlbmUuZW52QXRsYXMgOiBudWxsKTtcbiAgICAgICAgICAgIGlmIChlbnZBdGxhcyAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50U291cmNlID0gJ2VudkF0bGFzJztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudEVuY29kaW5nID0gZW52QXRsYXMuZW5jb2Rpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50U291cmNlID0gJ2NvbnN0YW50JztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudEVuY29kaW5nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IGFkZCBhIHRlc3QgZm9yIGlmIG5vbiBza3lib3ggY3ViZW1hcHMgaGF2ZSByb3RhdGlvbiAod2hlbiB0aGlzIGlzIHN1cHBvcnRlZCkgLSBmb3Igbm93IGFzc3VtZSBubyBub24tc2t5Ym94IGN1YmVtYXAgcm90YXRpb25cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNreWJveEludGVuc2l0eSA9IHVzaW5nU2NlbmVFbnYgJiYgKHNjZW5lLnNreWJveEludGVuc2l0eSAhPT0gMSB8fCBzY2VuZS5waHlzaWNhbFVuaXRzKTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUN1YmVNYXBSb3RhdGlvbiA9IHVzaW5nU2NlbmVFbnYgJiYgc2NlbmUuX3NreWJveFJvdGF0aW9uU2hhZGVySW5jbHVkZTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTGlnaHRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHNvcnRlZExpZ2h0cykge1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXBDaGFubmVsID0gJyc7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXBVdiA9IDA7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXBUcmFuc2Zvcm0gPSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRNYXBXaXRob3V0QW1iaWVudCA9IGZhbHNlO1xuICAgICAgICBvcHRpb25zLmRpckxpZ2h0TWFwID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKG9iakRlZnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5ub1NoYWRvdyA9IChvYmpEZWZzICYgU0hBREVSREVGX05PU0hBRE9XKSAhPT0gMDtcblxuICAgICAgICAgICAgaWYgKChvYmpEZWZzICYgU0hBREVSREVGX0xNKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXBFbmNvZGluZyA9IHNjZW5lLmxpZ2h0bWFwUGl4ZWxGb3JtYXQgPT09IFBJWEVMRk9STUFUX1JHQkE4ID8gJ3JnYm0nIDogJ2xpbmVhcic7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcENoYW5uZWwgPSAncmdiJztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwVXYgPSAxO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXBUcmFuc2Zvcm0gPSAwO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hcFdpdGhvdXRBbWJpZW50ID0gIXN0ZE1hdC5saWdodE1hcDtcbiAgICAgICAgICAgICAgICBpZiAoKG9iakRlZnMgJiBTSEFERVJERUZfRElSTE0pICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGlyTGlnaHRNYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIGxpZ2h0bWFwcyBjb250YWluIGJha2VkIGFtYmllbnQgbGlnaHQsIGRpc2FibGUgcmVhbC10aW1lIGFtYmllbnQgbGlnaHRcbiAgICAgICAgICAgICAgICBpZiAoKG9iakRlZnMgJiBTSEFERVJERUZfTE1BTUJJRU5UKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRNYXBXaXRob3V0QW1iaWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGRNYXQudXNlTGlnaHRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpZ2h0c0ZpbHRlcmVkID0gW107XG4gICAgICAgICAgICBjb25zdCBtYXNrID0gb2JqRGVmcyA/IChvYmpEZWZzID4+IDE2KSA6IE1BU0tfQUZGRUNUX0RZTkFNSUM7XG5cbiAgICAgICAgICAgIC8vIG1hc2sgdG8gc2VsZWN0IGxpZ2h0cyAoZHluYW1pYyB2cyBsaWdodG1hcHBlZCkgd2hlbiB1c2luZyBjbHVzdGVyZWQgbGlnaHRpbmdcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hc2tEeW5hbWljID0gISEobWFzayAmIE1BU0tfQUZGRUNUX0RZTkFNSUMpO1xuXG4gICAgICAgICAgICBpZiAoc29ydGVkTGlnaHRzKSB7XG4gICAgICAgICAgICAgICAgTGl0TWF0ZXJpYWxPcHRpb25zQnVpbGRlci5jb2xsZWN0TGlnaHRzKExJR0hUVFlQRV9ESVJFQ1RJT05BTCwgc29ydGVkTGlnaHRzW0xJR0hUVFlQRV9ESVJFQ1RJT05BTF0sIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrKTtcbiAgICAgICAgICAgICAgICBMaXRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyLmNvbGxlY3RMaWdodHMoTElHSFRUWVBFX09NTkksIHNvcnRlZExpZ2h0c1tMSUdIVFRZUEVfT01OSV0sIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrKTtcbiAgICAgICAgICAgICAgICBMaXRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyLmNvbGxlY3RMaWdodHMoTElHSFRUWVBFX1NQT1QsIHNvcnRlZExpZ2h0c1tMSUdIVFRZUEVfU1BPVF0sIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMgPSBsaWdodHNGaWx0ZXJlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm5vU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRNYXBUcmFuc2Zvcm1JRCh4Zm9ybSwgdXYpIHtcbiAgICAgICAgaWYgKCF4Zm9ybSkgcmV0dXJuIDA7XG5cbiAgICAgICAgbGV0IHhmb3JtcyA9IHRoaXMuX21hcFhGb3Jtc1t1dl07XG4gICAgICAgIGlmICgheGZvcm1zKSB7XG4gICAgICAgICAgICB4Zm9ybXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21hcFhGb3Jtc1t1dl0gPSB4Zm9ybXM7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycmF5c0VxdWFsKHhmb3Jtc1tpXVswXS52YWx1ZSwgeGZvcm1bMF0udmFsdWUpICYmXG4gICAgICAgICAgICAgICAgYXJyYXlzRXF1YWwoeGZvcm1zW2ldWzFdLnZhbHVlLCB4Zm9ybVsxXS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geGZvcm1zLnB1c2goeGZvcm0pO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIH07XG4iXSwibmFtZXMiOlsiYXJyYXlzRXF1YWwiLCJhIiwiYiIsImxlbmd0aCIsImkiLCJub3RXaGl0ZSIsImNvbG9yIiwiciIsImciLCJub3RCbGFjayIsIlN0YW5kYXJkTWF0ZXJpYWxPcHRpb25zQnVpbGRlciIsImNvbnN0cnVjdG9yIiwiX21hcFhGb3JtcyIsInVwZGF0ZU1pblJlZiIsIm9wdGlvbnMiLCJzY2VuZSIsInN0ZE1hdCIsIm9iakRlZnMiLCJwYXNzIiwic29ydGVkTGlnaHRzIiwiX3VwZGF0ZVNoYXJlZE9wdGlvbnMiLCJfdXBkYXRlTWluT3B0aW9ucyIsIl91cGRhdGVVVk9wdGlvbnMiLCJ1cGRhdGVSZWYiLCJfdXBkYXRlRW52T3B0aW9ucyIsIl91cGRhdGVNYXRlcmlhbE9wdGlvbnMiLCJTSEFERVJfRk9SV0FSREhEUiIsImxpdE9wdGlvbnMiLCJnYW1tYSIsIkdBTU1BX1NSR0JIRFIiLCJ0b25lTWFwIiwiVE9ORU1BUF9MSU5FQVIiLCJoYXNUYW5nZW50cyIsIlNIQURFUkRFRl9UQU5HRU5UUyIsIl91cGRhdGVMaWdodE9wdGlvbnMiLCJmb3JjZVV2MSIsInVzZXJBdHRyaWJ1dGVzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwiY2h1bmtzIiwiYWxwaGFUZXN0IiwiYmxlbmRUeXBlIiwic2NyZWVuU3BhY2UiLCJTSEFERVJERUZfU0NSRUVOU1BBQ0UiLCJza2luIiwiU0hBREVSREVGX1NLSU4iLCJ1c2VJbnN0YW5jaW5nIiwiU0hBREVSREVGX0lOU1RBTkNJTkciLCJ1c2VNb3JwaFBvc2l0aW9uIiwiU0hBREVSREVGX01PUlBIX1BPU0lUSU9OIiwidXNlTW9ycGhOb3JtYWwiLCJTSEFERVJERUZfTU9SUEhfTk9STUFMIiwidXNlTW9ycGhUZXh0dXJlQmFzZWQiLCJTSEFERVJERUZfTU9SUEhfVEVYVFVSRV9CQVNFRCIsIm5pbmVTbGljZWRNb2RlIiwiY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkIiwidXNlTGlnaHRpbmciLCJjbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkIiwibGlnaHRpbmciLCJjb29raWVzRW5hYmxlZCIsImNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93c0VuYWJsZWQiLCJzaGFkb3dzRW5hYmxlZCIsImNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93VHlwZSIsInNoYWRvd1R5cGUiLCJjbHVzdGVyZWRMaWdodGluZ0FyZWFMaWdodHNFbmFibGVkIiwiYXJlYUxpZ2h0c0VuYWJsZWQiLCJtaW5pbWFsT3B0aW9ucyIsImhhc1V2MCIsImhhc1V2MSIsImhhc1Zjb2xvciIsIlNIQURFUkRFRl9VVjAiLCJTSEFERVJERUZfVVYxIiwiU0hBREVSREVGX1ZDT0xPUiIsInZlcnRleENvbG9ycyIsInVuaXF1ZVRleHR1cmVNYXAiLCJwIiwiX21hdFRleDJEIiwiX3VwZGF0ZVRleE9wdGlvbnMiLCJsaWdodE1hcEVuYWJsZWQiLCJsaWdodE1hcCIsImRpckxpZ2h0TWFwRW5hYmxlZCIsImRpckxpZ2h0TWFwIiwidXNlSGVpZ2h0cyIsImhlaWdodE1hcCIsInVzZU5vcm1hbHMiLCJub3JtYWxNYXAiLCJ1c2VDbGVhckNvYXROb3JtYWxzIiwiY2xlYXJDb2F0Tm9ybWFsTWFwIiwidXNlQW8iLCJhb01hcCIsImFvVmVydGV4Q29sb3IiLCJkaWZmdXNlTWFwRW5hYmxlZCIsImRpZmZ1c2VNYXAiLCJpc09wYWNpdHkiLCJtbmFtZSIsInZuYW1lIiwidmNuYW1lIiwiY25hbWUiLCJ0bmFtZSIsInVuYW1lIiwiaW5hbWUiLCJ1bmRlZmluZWQiLCJCTEVORF9OT05FIiwiYWxwaGFUb0NvdmVyYWdlIiwib3BhY2l0eURpdGhlciIsIkRJVEhFUl9OT05FIiwiYWxsb3ciLCJtYXBJZCIsImlkIiwiaWRlbnRpZmllciIsIl9nZXRNYXBUcmFuc2Zvcm1JRCIsImdldFVuaWZvcm0iLCJvcGFjaXR5VGludCIsIm9wYWNpdHkiLCJvcGFjaXR5U2hhZG93RGl0aGVyIiwibGlnaHRzIiwiX3N0ZE1hdCRkaWZmdXNlTWFwIiwiX3N0ZE1hdCRkaWZmdXNlRGV0YWlsIiwiX3N0ZE1hdCRlbWlzc2l2ZU1hcCIsIl9zdGRNYXQkbGlnaHRNYXAiLCJkaWZmdXNlVGludCIsImRpZmZ1c2VWZXJ0ZXhDb2xvciIsImRpZmZ1c2UiLCJ1c2VTcGVjdWxhciIsInVzZU1ldGFsbmVzcyIsInNwZWN1bGFyTWFwIiwic3BoZXJlTWFwIiwiY3ViZU1hcCIsInNwZWN1bGFyIiwic3BlY3VsYXJpdHlGYWN0b3IiLCJlbmFibGVHR1hTcGVjdWxhciIsImNsZWFyQ29hdCIsInVzZVNwZWN1bGFyQ29sb3IiLCJ1c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yIiwic3BlY3VsYXJUaW50Iiwic3BlY3VsYXJWZXJ0ZXhDb2xvciIsInNwZWN1bGFyaXR5RmFjdG9yVGludCIsInNwZWN1bGFyaXR5RmFjdG9yTWFwIiwiZW1pc3NpdmVUaW50Q29sb3IiLCJlbWlzc2l2ZU1hcCIsImVtaXNzaXZlIiwiZW1pc3NpdmVUaW50IiwiZW1pc3NpdmVUaW50SW50ZW5zaXR5IiwiZW1pc3NpdmVJbnRlbnNpdHkiLCJpc1BhY2tlZE5vcm1hbE1hcCIsImZvcm1hdCIsIlBJWEVMRk9STUFUX0RYVDUiLCJ0eXBlIiwiVEVYVFVSRVRZUEVfU1dJWlpMRUdHR1IiLCJhbWJpZW50VGludCIsIm1ldGFsbmVzc1RpbnQiLCJtZXRhbG5lc3MiLCJnbG9zc1RpbnQiLCJkaWZmdXNlRW5jb2RpbmciLCJlbmNvZGluZyIsImRpZmZ1c2VEZXRhaWxFbmNvZGluZyIsImRpZmZ1c2VEZXRhaWxNYXAiLCJlbWlzc2l2ZUVuY29kaW5nIiwibGlnaHRNYXBFbmNvZGluZyIsInBhY2tlZE5vcm1hbCIsInJlZnJhY3Rpb25UaW50IiwicmVmcmFjdGlvbiIsInJlZnJhY3Rpb25JbmRleFRpbnQiLCJyZWZyYWN0aW9uSW5kZXgiLCJ0aGlja25lc3NUaW50IiwidXNlRHluYW1pY1JlZnJhY3Rpb24iLCJ0aGlja25lc3MiLCJzcGVjdWxhckVuY29kaW5nIiwic2hlZW5FbmNvZGluZyIsImFvTWFwVXYiLCJhb1V2U2V0IiwiYW9EZXRhaWwiLCJkaWZmdXNlRGV0YWlsIiwibm9ybWFsRGV0YWlsIiwiZGlmZnVzZURldGFpbE1vZGUiLCJhb0RldGFpbE1vZGUiLCJjbGVhckNvYXRUaW50IiwiY2xlYXJDb2F0R2xvc3MiLCJjbGVhckNvYXRHbG9zc1RpbnQiLCJpb3JUaW50IiwiaXJpZGVzY2VuY2VUaW50IiwiaXJpZGVzY2VuY2UiLCJzaGVlblRpbnQiLCJ1c2VTaGVlbiIsInNoZWVuIiwic2hlZW5HbG9zc1RpbnQiLCJnbG9zc0ludmVydCIsInNoZWVuR2xvc3NJbnZlcnQiLCJjbGVhckNvYXRHbG9zc0ludmVydCIsInNlcGFyYXRlQW1iaWVudCIsInVzZUFtYmllbnRUaW50IiwiY3VzdG9tRnJhZ21lbnRTaGFkZXIiLCJwaXhlbFNuYXAiLCJzaGFkaW5nTW9kZWwiLCJhbWJpZW50U0giLCJmYXN0VGJuIiwidHdvU2lkZWRMaWdodGluZyIsIm9jY2x1ZGVTcGVjdWxhciIsIm9jY2x1ZGVTcGVjdWxhckZsb2F0Iiwib2NjbHVkZVNwZWN1bGFySW50ZW5zaXR5IiwidXNlTXNkZiIsIm1zZGZNYXAiLCJtc2RmVGV4dEF0dHJpYnV0ZSIsIm9wYWNpdHlGYWRlc1NwZWN1bGFyIiwiY3ViZU1hcFByb2plY3Rpb24iLCJvY2NsdWRlRGlyZWN0IiwiY29uc2VydmVFbmVyZ3kiLCJTUEVDVUxBUl9QSE9ORyIsInVzZVNwZWN1bGFyaXR5RmFjdG9yIiwiZnJlc25lbE1vZGVsIiwidXNlUmVmcmFjdGlvbiIsInJlZnJhY3Rpb25NYXAiLCJyZWZsZWN0aW9uU291cmNlIiwidXNlQ2xlYXJDb2F0IiwidXNlSXJpZGVzY2VuY2UiLCJmb2ciLCJ1c2VGb2ciLCJ1c2VHYW1tYVRvbmVtYXAiLCJnYW1tYUNvcnJlY3Rpb24iLCJHQU1NQV9OT05FIiwidG9uZU1hcHBpbmciLCJmaXhTZWFtcyIsImZpeEN1YmVtYXBTZWFtcyIsImlzUGhvbmciLCJ1c2luZ1NjZW5lRW52IiwiZW52QXRsYXMiLCJyZWZsZWN0aW9uRW5jb2RpbmciLCJyZWZsZWN0aW9uQ3ViZW1hcEVuY29kaW5nIiwidXNlU2t5Ym94Iiwic2t5Ym94IiwiYW1iaWVudFNvdXJjZSIsImFtYmllbnRFbmNvZGluZyIsInNreWJveEludGVuc2l0eSIsInBoeXNpY2FsVW5pdHMiLCJ1c2VDdWJlTWFwUm90YXRpb24iLCJfc2t5Ym94Um90YXRpb25TaGFkZXJJbmNsdWRlIiwibGlnaHRNYXBDaGFubmVsIiwibGlnaHRNYXBVdiIsImxpZ2h0TWFwVHJhbnNmb3JtIiwibGlnaHRNYXBXaXRob3V0QW1iaWVudCIsIm5vU2hhZG93IiwiU0hBREVSREVGX05PU0hBRE9XIiwiU0hBREVSREVGX0xNIiwibGlnaHRtYXBQaXhlbEZvcm1hdCIsIlBJWEVMRk9STUFUX1JHQkE4IiwiU0hBREVSREVGX0RJUkxNIiwiU0hBREVSREVGX0xNQU1CSUVOVCIsImxpZ2h0c0ZpbHRlcmVkIiwibWFzayIsIk1BU0tfQUZGRUNUX0RZTkFNSUMiLCJsaWdodE1hc2tEeW5hbWljIiwiTGl0TWF0ZXJpYWxPcHRpb25zQnVpbGRlciIsImNvbGxlY3RMaWdodHMiLCJMSUdIVFRZUEVfRElSRUNUSU9OQUwiLCJMSUdIVFRZUEVfT01OSSIsIkxJR0hUVFlQRV9TUE9UIiwieGZvcm0iLCJ1diIsInhmb3JtcyIsInZhbHVlIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFtQkEsTUFBTUEsV0FBVyxHQUFHQSxDQUFDQyxDQUFDLEVBQUVDLENBQUMsS0FBSztBQUMxQixFQUFBLElBQUlELENBQUMsQ0FBQ0UsTUFBTSxLQUFLRCxDQUFDLENBQUNDLE1BQU0sRUFBRTtBQUN2QixJQUFBLE9BQU8sS0FBSyxDQUFBO0FBQ2hCLEdBQUE7QUFDQSxFQUFBLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHSCxDQUFDLENBQUNFLE1BQU0sRUFBRSxFQUFFQyxDQUFDLEVBQUU7SUFDL0IsSUFBSUgsQ0FBQyxDQUFDRyxDQUFDLENBQUMsS0FBS0YsQ0FBQyxDQUFDRSxDQUFDLENBQUMsRUFBRTtBQUNmLE1BQUEsT0FBTyxLQUFLLENBQUE7QUFDaEIsS0FBQTtBQUNKLEdBQUE7QUFDQSxFQUFBLE9BQU8sSUFBSSxDQUFBO0FBQ2YsQ0FBQyxDQUFBO0FBRUQsTUFBTUMsUUFBUSxHQUFJQyxLQUFLLElBQUs7QUFDeEIsRUFBQSxPQUFPQSxLQUFLLENBQUNDLENBQUMsS0FBSyxDQUFDLElBQUlELEtBQUssQ0FBQ0UsQ0FBQyxLQUFLLENBQUMsSUFBSUYsS0FBSyxDQUFDSixDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzFELENBQUMsQ0FBQTtBQUVELE1BQU1PLFFBQVEsR0FBSUgsS0FBSyxJQUFLO0FBQ3hCLEVBQUEsT0FBT0EsS0FBSyxDQUFDQyxDQUFDLEtBQUssQ0FBQyxJQUFJRCxLQUFLLENBQUNFLENBQUMsS0FBSyxDQUFDLElBQUlGLEtBQUssQ0FBQ0osQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUMxRCxDQUFDLENBQUE7QUFFRCxNQUFNUSw4QkFBOEIsQ0FBQztBQUNqQ0MsRUFBQUEsV0FBV0EsR0FBRztJQUNWLElBQUksQ0FBQ0MsVUFBVSxHQUFHLElBQUksQ0FBQTtBQUMxQixHQUFB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
