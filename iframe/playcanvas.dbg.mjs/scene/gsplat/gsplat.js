import { FloatPacking } from '../../core/math/float-packing.js';
import { math } from '../../core/math/math.js';
import { Quat } from '../../core/math/quat.js';
import { Vec2 } from '../../core/math/vec2.js';
import { SEMANTIC_ATTR13, TYPE_FLOAT32, TYPE_UINT32, PIXELFORMAT_RGBA8, FILTER_NEAREST, ADDRESS_CLAMP_TO_EDGE, PIXELFORMAT_RGBA16F, PIXELFORMAT_RGBA32F, PIXELFORMAT_RGB32F } from '../../platform/graphics/constants.js';
import { Texture } from '../../platform/graphics/texture.js';
import { VertexFormat } from '../../platform/graphics/vertex-format.js';

/**
 * @typedef {object} SplatTextureFormat
 * @property {number} format - The pixel format of the texture.
 * @property {number} numComponents - The number of components in the texture format.
 * @property {boolean} isHalf - Indicates if the format uses half-precision floats.
 */

/** @ignore */
class GSplat {
  /**
   * @param {import('../../platform/graphics/graphics-device.js').GraphicsDevice} device - The graphics device.
   * @param {number} numSplats - Number of splats.
   * @param {import('../../core/shape/bounding-box.js').BoundingBox} aabb - The bounding box.
   */
  constructor(device, numSplats, aabb) {
    this.device = void 0;
    this.numSplats = void 0;
    this.vertexFormat = void 0;
    /** @type {SplatTextureFormat} */
    this.format = void 0;
    this.colorTexture = void 0;
    this.scaleTexture = void 0;
    this.rotationTexture = void 0;
    /** @type {Texture} */
    this.centerTexture = void 0;
    /** @type {Float32Array} */
    this.centers = void 0;
    /** @type {import('../../core/shape/bounding-box.js').BoundingBox} */
    this.aabb = void 0;
    this.device = device;
    this.numSplats = numSplats;
    this.aabb = aabb;
    this.vertexFormat = new VertexFormat(device, [{
      semantic: SEMANTIC_ATTR13,
      components: 1,
      type: device.isWebGL1 ? TYPE_FLOAT32 : TYPE_UINT32,
      asInt: !device.isWebGL1
    }]);

    // create data textures
    const size = this.evalTextureSize(numSplats);
    this.format = this.getTextureFormat(device, false);
    this.colorTexture = this.createTexture(device, 'splatColor', PIXELFORMAT_RGBA8, size);
    this.scaleTexture = this.createTexture(device, 'splatScale', this.format.format, size);
    this.rotationTexture = this.createTexture(device, 'splatRotation', this.format.format, size);
    this.centerTexture = this.createTexture(device, 'splatCenter', this.format.format, size);
  }
  destroy() {
    this.colorTexture.destroy();
    this.scaleTexture.destroy();
    this.rotationTexture.destroy();
    this.centerTexture.destroy();
  }

  /**
   * @param {import('../materials/material.js').Material} material - The material to set up for
   * the splat rendering.
   */
  setupMaterial(material) {
    material.setParameter('splatColor', this.colorTexture);
    material.setParameter('splatScale', this.scaleTexture);
    material.setParameter('splatRotation', this.rotationTexture);
    material.setParameter('splatCenter', this.centerTexture);
    const {
      width,
      height
    } = this.colorTexture;
    material.setParameter('tex_params', new Float32Array([width, height, 1 / width, 1 / height]));
  }

  /**
   * Evaluates the texture size needed to store a given number of elements.
   * The function calculates a width and height that is close to a square
   * that can contain 'count' elements.
   *
   * @param {number} count - The number of elements to store in the texture.
   * @returns {Vec2} An instance of Vec2 representing the width and height of the texture.
   */
  evalTextureSize(count) {
    const width = Math.ceil(Math.sqrt(count));
    const height = Math.ceil(count / width);
    return new Vec2(width, height);
  }

  /**
   * Creates a new texture with the specified parameters.
   *
   * @param {import('../../platform/graphics/graphics-device.js').GraphicsDevice} device - The graphics device to use for the texture creation.
   * @param {string} name - The name of the texture to be created.
   * @param {number} format - The pixel format of the texture.
   * @param {Vec2} size - The size of the texture in a Vec2 object, containing width (x) and height (y).
   * @returns {Texture} The created texture instance.
   */
  createTexture(device, name, format, size) {
    return new Texture(device, {
      name: name,
      width: size.x,
      height: size.y,
      format: format,
      cubemap: false,
      mipmaps: false,
      minFilter: FILTER_NEAREST,
      magFilter: FILTER_NEAREST,
      addressU: ADDRESS_CLAMP_TO_EDGE,
      addressV: ADDRESS_CLAMP_TO_EDGE
    });
  }

  /**
   * Gets the most suitable texture format based on device capabilities.
   *
   * @param {import('../../platform/graphics/graphics-device.js').GraphicsDevice} device - The graphics device.
   * @param {boolean} preferHighPrecision - True to prefer high precision when available.
   * @returns {SplatTextureFormat} The texture format info or undefined if not available.
   */
  getTextureFormat(device, preferHighPrecision) {
    const halfFormat = device.extTextureHalfFloat && device.textureHalfFloatUpdatable ? PIXELFORMAT_RGBA16F : undefined;
    const half = halfFormat ? {
      format: halfFormat,
      numComponents: 4,
      isHalf: true
    } : undefined;
    const floatFormat = device.isWebGPU ? PIXELFORMAT_RGBA32F : device.extTextureFloat ? PIXELFORMAT_RGB32F : undefined;
    const float = floatFormat ? {
      format: floatFormat,
      numComponents: floatFormat === PIXELFORMAT_RGBA32F ? 4 : 3,
      isHalf: false
    } : undefined;
    return preferHighPrecision ? float != null ? float : half : half != null ? half : float;
  }

  /**
   * Updates pixel data of this.colorTexture based on the supplied color components and opacity.
   * Assumes that the texture is using an RGBA format where RGB are color components influenced
   * by SH spherical harmonics and A is opacity after a sigmoid transformation.
   *
   * @param {Float32Array} c0 - The first color component SH coefficients.
   * @param {Float32Array} c1 - The second color component SH coefficients.
   * @param {Float32Array} c2 - The third color component SH coefficients.
   * @param {Float32Array} opacity - The opacity values to be transformed using a sigmoid function.
   */
  updateColorData(c0, c1, c2, opacity) {
    const SH_C0 = 0.28209479177387814;
    const texture = this.colorTexture;
    const data = texture.lock();

    /**
     * Calculates the sigmoid of a given value.
     *
     * @param {number} v - The value for which to compute the sigmoid function.
     * @returns {number} The result of the sigmoid function.
     */
    const sigmoid = v => {
      if (v > 0) {
        return 1 / (1 + Math.exp(-v));
      }
      const t = Math.exp(v);
      return t / (1 + t);
    };
    for (let i = 0; i < this.numSplats; ++i) {
      // colors
      if (c0 && c1 && c2) {
        data[i * 4 + 0] = math.clamp((0.5 + SH_C0 * c0[i]) * 255, 0, 255);
        data[i * 4 + 1] = math.clamp((0.5 + SH_C0 * c1[i]) * 255, 0, 255);
        data[i * 4 + 2] = math.clamp((0.5 + SH_C0 * c2[i]) * 255, 0, 255);
      }

      // opacity
      data[i * 4 + 3] = opacity ? math.clamp(sigmoid(opacity[i]) * 255, 0, 255) : 255;
    }
    texture.unlock();
  }

  /**
   * Updates pixel data of this.scaleTexture based based on the supplied scale components.
   * The scales are exponentiated before being stored in the texture, and if the texture
   * format uses half precision, the scale values are converted accordingly.
   *
   * @param {Float32Array} scale0 - The first scale component associated with the x-dimension.
   * @param {Float32Array} scale1 - The second scale component associated with the y-dimension.
   * @param {Float32Array} scale2 - The third scale component associated with the z-dimension.
   */
  updateScaleData(scale0, scale1, scale2) {
    const {
      numComponents,
      isHalf
    } = this.format;
    const texture = this.scaleTexture;
    const data = texture.lock();
    const float2Half = FloatPacking.float2Half;
    for (let i = 0; i < this.numSplats; i++) {
      const sx = Math.exp(scale0[i]);
      const sy = Math.exp(scale1[i]);
      const sz = Math.exp(scale2[i]);
      if (isHalf) {
        data[i * numComponents + 0] = float2Half(sx);
        data[i * numComponents + 1] = float2Half(sy);
        data[i * numComponents + 2] = float2Half(sz);
      } else {
        data[i * numComponents + 0] = sx;
        data[i * numComponents + 1] = sy;
        data[i * numComponents + 2] = sz;
      }
    }
    texture.unlock();
  }

  /**
   * Updates pixel data of this.rotationTexture based on the supplied quaternion components.
   * Quaternions are normalized and conjugated if the 'w' component is negative.
   * The quaternion components are stored as either half or full precision floats depending on the texture format.
   *
   * @param {Float32Array} rot0 - The array containing the 'x' component of quaternion rotations.
   * @param {Float32Array} rot1 - The array containing the 'y' component of quaternion rotations.
   * @param {Float32Array} rot2 - The array containing the 'z' component of quaternion rotations.
   * @param {Float32Array} rot3 - The array containing the 'w' component of quaternion rotations.
   */
  updateRotationData(rot0, rot1, rot2, rot3) {
    const {
      numComponents,
      isHalf
    } = this.format;
    const quat = new Quat();
    const texture = this.rotationTexture;
    const data = texture.lock();
    const float2Half = FloatPacking.float2Half;
    for (let i = 0; i < this.numSplats; i++) {
      quat.set(rot0[i], rot1[i], rot2[i], rot3[i]).normalize();
      if (quat.w < 0) {
        quat.conjugate();
      }
      if (isHalf) {
        data[i * numComponents + 0] = float2Half(quat.x);
        data[i * numComponents + 1] = float2Half(quat.y);
        data[i * numComponents + 2] = float2Half(quat.z);
      } else {
        data[i * numComponents + 0] = quat.x;
        data[i * numComponents + 1] = quat.y;
        data[i * numComponents + 2] = quat.z;
      }
    }
    texture.unlock();
  }

  /**
   * Updates pixel data of this.centerTexture based on the supplied center coordinates.
   * The center coordinates are stored as either half or full precision floats depending on the texture format.
   *
   * @param {Float32Array} x - The array containing the 'x' component of the center points.
   * @param {Float32Array} y - The array containing the 'y' component of the center points.
   * @param {Float32Array} z - The array containing the 'z' component of the center points.
   */
  updateCenterData(x, y, z) {
    const {
      numComponents,
      isHalf
    } = this.format;
    const texture = this.centerTexture;
    const data = texture.lock();
    const float2Half = FloatPacking.float2Half;
    for (let i = 0; i < this.numSplats; i++) {
      if (isHalf) {
        data[i * numComponents + 0] = float2Half(x[i]);
        data[i * numComponents + 1] = float2Half(y[i]);
        data[i * numComponents + 2] = float2Half(z[i]);
      } else {
        data[i * numComponents + 0] = x[i];
        data[i * numComponents + 1] = y[i];
        data[i * numComponents + 2] = z[i];
      }
    }
    texture.unlock();
  }
}

export { GSplat };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3NwbGF0LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvc2NlbmUvZ3NwbGF0L2dzcGxhdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGbG9hdFBhY2tpbmcgfSBmcm9tICcuLi8uLi9jb3JlL21hdGgvZmxvYXQtcGFja2luZy5qcyc7XG5pbXBvcnQgeyBtYXRoIH0gZnJvbSAnLi4vLi4vY29yZS9tYXRoL21hdGguanMnO1xuaW1wb3J0IHsgUXVhdCB9IGZyb20gJy4uLy4uL2NvcmUvbWF0aC9xdWF0LmpzJztcbmltcG9ydCB7IFZlYzIgfSBmcm9tICcuLi8uLi9jb3JlL21hdGgvdmVjMi5qcyc7XG5pbXBvcnQge1xuICAgIEFERFJFU1NfQ0xBTVBfVE9fRURHRSwgRklMVEVSX05FQVJFU1QsIFBJWEVMRk9STUFUX1JHQjMyRiwgUElYRUxGT1JNQVRfUkdCQTE2RiwgUElYRUxGT1JNQVRfUkdCQTMyRixcbiAgICBQSVhFTEZPUk1BVF9SR0JBOCwgU0VNQU5USUNfQVRUUjEzLCBUWVBFX0ZMT0FUMzIsIFRZUEVfVUlOVDMyXG59IGZyb20gJy4uLy4uL3BsYXRmb3JtL2dyYXBoaWNzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvdGV4dHVyZS5qcyc7XG5pbXBvcnQgeyBWZXJ0ZXhGb3JtYXQgfSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy92ZXJ0ZXgtZm9ybWF0LmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBTcGxhdFRleHR1cmVGb3JtYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb3JtYXQgLSBUaGUgcGl4ZWwgZm9ybWF0IG9mIHRoZSB0ZXh0dXJlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG51bUNvbXBvbmVudHMgLSBUaGUgbnVtYmVyIG9mIGNvbXBvbmVudHMgaW4gdGhlIHRleHR1cmUgZm9ybWF0LlxuICogQHByb3BlcnR5IHtib29sZWFufSBpc0hhbGYgLSBJbmRpY2F0ZXMgaWYgdGhlIGZvcm1hdCB1c2VzIGhhbGYtcHJlY2lzaW9uIGZsb2F0cy5cbiAqL1xuXG4vKiogQGlnbm9yZSAqL1xuY2xhc3MgR1NwbGF0IHtcbiAgICBkZXZpY2U7XG5cbiAgICBudW1TcGxhdHM7XG5cbiAgICB2ZXJ0ZXhGb3JtYXQ7XG5cbiAgICAvKiogQHR5cGUge1NwbGF0VGV4dHVyZUZvcm1hdH0gKi9cbiAgICBmb3JtYXQ7XG5cbiAgICBjb2xvclRleHR1cmU7XG5cbiAgICBzY2FsZVRleHR1cmU7XG5cbiAgICByb3RhdGlvblRleHR1cmU7XG5cbiAgICAvKiogQHR5cGUge1RleHR1cmV9ICovXG4gICAgY2VudGVyVGV4dHVyZTtcblxuICAgIC8qKiBAdHlwZSB7RmxvYXQzMkFycmF5fSAqL1xuICAgIGNlbnRlcnM7XG5cbiAgICAvKiogQHR5cGUge2ltcG9ydCgnLi4vLi4vY29yZS9zaGFwZS9ib3VuZGluZy1ib3guanMnKS5Cb3VuZGluZ0JveH0gKi9cbiAgICBhYWJiO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL3BsYXRmb3JtL2dyYXBoaWNzL2dyYXBoaWNzLWRldmljZS5qcycpLkdyYXBoaWNzRGV2aWNlfSBkZXZpY2UgLSBUaGUgZ3JhcGhpY3MgZGV2aWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1TcGxhdHMgLSBOdW1iZXIgb2Ygc3BsYXRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi8uLi9jb3JlL3NoYXBlL2JvdW5kaW5nLWJveC5qcycpLkJvdW5kaW5nQm94fSBhYWJiIC0gVGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIG51bVNwbGF0cywgYWFiYikge1xuICAgICAgICB0aGlzLmRldmljZSA9IGRldmljZTtcbiAgICAgICAgdGhpcy5udW1TcGxhdHMgPSBudW1TcGxhdHM7XG4gICAgICAgIHRoaXMuYWFiYiA9IGFhYmI7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhGb3JtYXQgPSBuZXcgVmVydGV4Rm9ybWF0KGRldmljZSwgW1xuICAgICAgICAgICAgeyBzZW1hbnRpYzogU0VNQU5USUNfQVRUUjEzLCBjb21wb25lbnRzOiAxLCB0eXBlOiBkZXZpY2UuaXNXZWJHTDEgPyBUWVBFX0ZMT0FUMzIgOiBUWVBFX1VJTlQzMiwgYXNJbnQ6ICFkZXZpY2UuaXNXZWJHTDEgfVxuICAgICAgICBdKTtcblxuICAgICAgICAvLyBjcmVhdGUgZGF0YSB0ZXh0dXJlc1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5ldmFsVGV4dHVyZVNpemUobnVtU3BsYXRzKTtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSB0aGlzLmdldFRleHR1cmVGb3JtYXQoZGV2aWNlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY29sb3JUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKGRldmljZSwgJ3NwbGF0Q29sb3InLCBQSVhFTEZPUk1BVF9SR0JBOCwgc2l6ZSk7XG4gICAgICAgIHRoaXMuc2NhbGVUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKGRldmljZSwgJ3NwbGF0U2NhbGUnLCB0aGlzLmZvcm1hdC5mb3JtYXQsIHNpemUpO1xuICAgICAgICB0aGlzLnJvdGF0aW9uVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShkZXZpY2UsICdzcGxhdFJvdGF0aW9uJywgdGhpcy5mb3JtYXQuZm9ybWF0LCBzaXplKTtcbiAgICAgICAgdGhpcy5jZW50ZXJUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKGRldmljZSwgJ3NwbGF0Q2VudGVyJywgdGhpcy5mb3JtYXQuZm9ybWF0LCBzaXplKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc2NhbGVUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5yb3RhdGlvblRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmNlbnRlclRleHR1cmUuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi9tYXRlcmlhbHMvbWF0ZXJpYWwuanMnKS5NYXRlcmlhbH0gbWF0ZXJpYWwgLSBUaGUgbWF0ZXJpYWwgdG8gc2V0IHVwIGZvclxuICAgICAqIHRoZSBzcGxhdCByZW5kZXJpbmcuXG4gICAgICovXG4gICAgc2V0dXBNYXRlcmlhbChtYXRlcmlhbCkge1xuXG4gICAgICAgIG1hdGVyaWFsLnNldFBhcmFtZXRlcignc3BsYXRDb2xvcicsIHRoaXMuY29sb3JUZXh0dXJlKTtcbiAgICAgICAgbWF0ZXJpYWwuc2V0UGFyYW1ldGVyKCdzcGxhdFNjYWxlJywgdGhpcy5zY2FsZVRleHR1cmUpO1xuICAgICAgICBtYXRlcmlhbC5zZXRQYXJhbWV0ZXIoJ3NwbGF0Um90YXRpb24nLCB0aGlzLnJvdGF0aW9uVGV4dHVyZSk7XG4gICAgICAgIG1hdGVyaWFsLnNldFBhcmFtZXRlcignc3BsYXRDZW50ZXInLCB0aGlzLmNlbnRlclRleHR1cmUpO1xuXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5jb2xvclRleHR1cmU7XG4gICAgICAgIG1hdGVyaWFsLnNldFBhcmFtZXRlcigndGV4X3BhcmFtcycsIG5ldyBGbG9hdDMyQXJyYXkoW3dpZHRoLCBoZWlnaHQsIDEgLyB3aWR0aCwgMSAvIGhlaWdodF0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmFsdWF0ZXMgdGhlIHRleHR1cmUgc2l6ZSBuZWVkZWQgdG8gc3RvcmUgYSBnaXZlbiBudW1iZXIgb2YgZWxlbWVudHMuXG4gICAgICogVGhlIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgYSB3aWR0aCBhbmQgaGVpZ2h0IHRoYXQgaXMgY2xvc2UgdG8gYSBzcXVhcmVcbiAgICAgKiB0aGF0IGNhbiBjb250YWluICdjb3VudCcgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnQgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHN0b3JlIGluIHRoZSB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm5zIHtWZWMyfSBBbiBpbnN0YW5jZSBvZiBWZWMyIHJlcHJlc2VudGluZyB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBldmFsVGV4dHVyZVNpemUoY291bnQpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmNlaWwoTWF0aC5zcXJ0KGNvdW50KSk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGguY2VpbChjb3VudCAvIHdpZHRoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMyKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSB3aXRoIHRoZSBzcGVjaWZpZWQgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9ncmFwaGljcy1kZXZpY2UuanMnKS5HcmFwaGljc0RldmljZX0gZGV2aWNlIC0gVGhlIGdyYXBoaWNzIGRldmljZSB0byB1c2UgZm9yIHRoZSB0ZXh0dXJlIGNyZWF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHRleHR1cmUgdG8gYmUgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZm9ybWF0IC0gVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge1ZlYzJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgdGV4dHVyZSBpbiBhIFZlYzIgb2JqZWN0LCBjb250YWluaW5nIHdpZHRoICh4KSBhbmQgaGVpZ2h0ICh5KS5cbiAgICAgKiBAcmV0dXJucyB7VGV4dHVyZX0gVGhlIGNyZWF0ZWQgdGV4dHVyZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBjcmVhdGVUZXh0dXJlKGRldmljZSwgbmFtZSwgZm9ybWF0LCBzaXplKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShkZXZpY2UsIHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICB3aWR0aDogc2l6ZS54LFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLnksXG4gICAgICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgICAgIGN1YmVtYXA6IGZhbHNlLFxuICAgICAgICAgICAgbWlwbWFwczogZmFsc2UsXG4gICAgICAgICAgICBtaW5GaWx0ZXI6IEZJTFRFUl9ORUFSRVNULFxuICAgICAgICAgICAgbWFnRmlsdGVyOiBGSUxURVJfTkVBUkVTVCxcbiAgICAgICAgICAgIGFkZHJlc3NVOiBBRERSRVNTX0NMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICBhZGRyZXNzVjogQUREUkVTU19DTEFNUF9UT19FREdFXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1vc3Qgc3VpdGFibGUgdGV4dHVyZSBmb3JtYXQgYmFzZWQgb24gZGV2aWNlIGNhcGFiaWxpdGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9ncmFwaGljcy1kZXZpY2UuanMnKS5HcmFwaGljc0RldmljZX0gZGV2aWNlIC0gVGhlIGdyYXBoaWNzIGRldmljZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByZWZlckhpZ2hQcmVjaXNpb24gLSBUcnVlIHRvIHByZWZlciBoaWdoIHByZWNpc2lvbiB3aGVuIGF2YWlsYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7U3BsYXRUZXh0dXJlRm9ybWF0fSBUaGUgdGV4dHVyZSBmb3JtYXQgaW5mbyBvciB1bmRlZmluZWQgaWYgbm90IGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICBnZXRUZXh0dXJlRm9ybWF0KGRldmljZSwgcHJlZmVySGlnaFByZWNpc2lvbikge1xuICAgICAgICBjb25zdCBoYWxmRm9ybWF0ID0gKGRldmljZS5leHRUZXh0dXJlSGFsZkZsb2F0ICYmIGRldmljZS50ZXh0dXJlSGFsZkZsb2F0VXBkYXRhYmxlKSA/IFBJWEVMRk9STUFUX1JHQkExNkYgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGhhbGYgPSBoYWxmRm9ybWF0ID8ge1xuICAgICAgICAgICAgZm9ybWF0OiBoYWxmRm9ybWF0LFxuICAgICAgICAgICAgbnVtQ29tcG9uZW50czogNCxcbiAgICAgICAgICAgIGlzSGFsZjogdHJ1ZVxuICAgICAgICB9IDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGZsb2F0Rm9ybWF0ID0gZGV2aWNlLmlzV2ViR1BVID8gUElYRUxGT1JNQVRfUkdCQTMyRiA6IChkZXZpY2UuZXh0VGV4dHVyZUZsb2F0ID8gUElYRUxGT1JNQVRfUkdCMzJGIDogdW5kZWZpbmVkKTtcbiAgICAgICAgY29uc3QgZmxvYXQgPSBmbG9hdEZvcm1hdCA/IHtcbiAgICAgICAgICAgIGZvcm1hdDogZmxvYXRGb3JtYXQsXG4gICAgICAgICAgICBudW1Db21wb25lbnRzOiBmbG9hdEZvcm1hdCA9PT0gUElYRUxGT1JNQVRfUkdCQTMyRiA/IDQgOiAzLFxuICAgICAgICAgICAgaXNIYWxmOiBmYWxzZVxuICAgICAgICB9IDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiBwcmVmZXJIaWdoUHJlY2lzaW9uID8gKGZsb2F0ID8/IGhhbGYpIDogKGhhbGYgPz8gZmxvYXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgcGl4ZWwgZGF0YSBvZiB0aGlzLmNvbG9yVGV4dHVyZSBiYXNlZCBvbiB0aGUgc3VwcGxpZWQgY29sb3IgY29tcG9uZW50cyBhbmQgb3BhY2l0eS5cbiAgICAgKiBBc3N1bWVzIHRoYXQgdGhlIHRleHR1cmUgaXMgdXNpbmcgYW4gUkdCQSBmb3JtYXQgd2hlcmUgUkdCIGFyZSBjb2xvciBjb21wb25lbnRzIGluZmx1ZW5jZWRcbiAgICAgKiBieSBTSCBzcGhlcmljYWwgaGFybW9uaWNzIGFuZCBBIGlzIG9wYWNpdHkgYWZ0ZXIgYSBzaWdtb2lkIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IGMwIC0gVGhlIGZpcnN0IGNvbG9yIGNvbXBvbmVudCBTSCBjb2VmZmljaWVudHMuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IGMxIC0gVGhlIHNlY29uZCBjb2xvciBjb21wb25lbnQgU0ggY29lZmZpY2llbnRzLlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBjMiAtIFRoZSB0aGlyZCBjb2xvciBjb21wb25lbnQgU0ggY29lZmZpY2llbnRzLlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBvcGFjaXR5IC0gVGhlIG9wYWNpdHkgdmFsdWVzIHRvIGJlIHRyYW5zZm9ybWVkIHVzaW5nIGEgc2lnbW9pZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB1cGRhdGVDb2xvckRhdGEoYzAsIGMxLCBjMiwgb3BhY2l0eSkge1xuICAgICAgICBjb25zdCBTSF9DMCA9IDAuMjgyMDk0NzkxNzczODc4MTQ7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNvbG9yVGV4dHVyZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRleHR1cmUubG9jaygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxjdWxhdGVzIHRoZSBzaWdtb2lkIG9mIGEgZ2l2ZW4gdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gVGhlIHZhbHVlIGZvciB3aGljaCB0byBjb21wdXRlIHRoZSBzaWdtb2lkIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcmVzdWx0IG9mIHRoZSBzaWdtb2lkIGZ1bmN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgc2lnbW9pZCA9ICh2KSA9PiB7XG4gICAgICAgICAgICBpZiAodiA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAvICgxICsgTWF0aC5leHAoLXYpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdCA9IE1hdGguZXhwKHYpO1xuICAgICAgICAgICAgcmV0dXJuIHQgLyAoMSArIHQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1TcGxhdHM7ICsraSkge1xuXG4gICAgICAgICAgICAvLyBjb2xvcnNcbiAgICAgICAgICAgIGlmIChjMCAmJiBjMSAmJiBjMikge1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIDQgKyAwXSA9IG1hdGguY2xhbXAoKDAuNSArIFNIX0MwICogYzBbaV0pICogMjU1LCAwLCAyNTUpO1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIDQgKyAxXSA9IG1hdGguY2xhbXAoKDAuNSArIFNIX0MwICogYzFbaV0pICogMjU1LCAwLCAyNTUpO1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIDQgKyAyXSA9IG1hdGguY2xhbXAoKDAuNSArIFNIX0MwICogYzJbaV0pICogMjU1LCAwLCAyNTUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvcGFjaXR5XG4gICAgICAgICAgICBkYXRhW2kgKiA0ICsgM10gPSBvcGFjaXR5ID8gbWF0aC5jbGFtcChzaWdtb2lkKG9wYWNpdHlbaV0pICogMjU1LCAwLCAyNTUpIDogMjU1O1xuICAgICAgICB9XG5cbiAgICAgICAgdGV4dHVyZS51bmxvY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHBpeGVsIGRhdGEgb2YgdGhpcy5zY2FsZVRleHR1cmUgYmFzZWQgYmFzZWQgb24gdGhlIHN1cHBsaWVkIHNjYWxlIGNvbXBvbmVudHMuXG4gICAgICogVGhlIHNjYWxlcyBhcmUgZXhwb25lbnRpYXRlZCBiZWZvcmUgYmVpbmcgc3RvcmVkIGluIHRoZSB0ZXh0dXJlLCBhbmQgaWYgdGhlIHRleHR1cmVcbiAgICAgKiBmb3JtYXQgdXNlcyBoYWxmIHByZWNpc2lvbiwgdGhlIHNjYWxlIHZhbHVlcyBhcmUgY29udmVydGVkIGFjY29yZGluZ2x5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHNjYWxlMCAtIFRoZSBmaXJzdCBzY2FsZSBjb21wb25lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSB4LWRpbWVuc2lvbi5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gc2NhbGUxIC0gVGhlIHNlY29uZCBzY2FsZSBjb21wb25lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSB5LWRpbWVuc2lvbi5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gc2NhbGUyIC0gVGhlIHRoaXJkIHNjYWxlIGNvbXBvbmVudCBhc3NvY2lhdGVkIHdpdGggdGhlIHotZGltZW5zaW9uLlxuICAgICAqL1xuICAgIHVwZGF0ZVNjYWxlRGF0YShzY2FsZTAsIHNjYWxlMSwgc2NhbGUyKSB7XG4gICAgICAgIGNvbnN0IHsgbnVtQ29tcG9uZW50cywgaXNIYWxmIH0gPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuc2NhbGVUZXh0dXJlO1xuICAgICAgICBjb25zdCBkYXRhID0gdGV4dHVyZS5sb2NrKCk7XG4gICAgICAgIGNvbnN0IGZsb2F0MkhhbGYgPSBGbG9hdFBhY2tpbmcuZmxvYXQySGFsZjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtU3BsYXRzOyBpKyspIHtcblxuICAgICAgICAgICAgY29uc3Qgc3ggPSBNYXRoLmV4cChzY2FsZTBbaV0pO1xuICAgICAgICAgICAgY29uc3Qgc3kgPSBNYXRoLmV4cChzY2FsZTFbaV0pO1xuICAgICAgICAgICAgY29uc3Qgc3ogPSBNYXRoLmV4cChzY2FsZTJbaV0pO1xuXG4gICAgICAgICAgICBpZiAoaXNIYWxmKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtpICogbnVtQ29tcG9uZW50cyArIDBdID0gZmxvYXQySGFsZihzeCk7XG4gICAgICAgICAgICAgICAgZGF0YVtpICogbnVtQ29tcG9uZW50cyArIDFdID0gZmxvYXQySGFsZihzeSk7XG4gICAgICAgICAgICAgICAgZGF0YVtpICogbnVtQ29tcG9uZW50cyArIDJdID0gZmxvYXQySGFsZihzeik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIG51bUNvbXBvbmVudHMgKyAwXSA9IHN4O1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIG51bUNvbXBvbmVudHMgKyAxXSA9IHN5O1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIG51bUNvbXBvbmVudHMgKyAyXSA9IHN6O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGV4dHVyZS51bmxvY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHBpeGVsIGRhdGEgb2YgdGhpcy5yb3RhdGlvblRleHR1cmUgYmFzZWQgb24gdGhlIHN1cHBsaWVkIHF1YXRlcm5pb24gY29tcG9uZW50cy5cbiAgICAgKiBRdWF0ZXJuaW9ucyBhcmUgbm9ybWFsaXplZCBhbmQgY29uanVnYXRlZCBpZiB0aGUgJ3cnIGNvbXBvbmVudCBpcyBuZWdhdGl2ZS5cbiAgICAgKiBUaGUgcXVhdGVybmlvbiBjb21wb25lbnRzIGFyZSBzdG9yZWQgYXMgZWl0aGVyIGhhbGYgb3IgZnVsbCBwcmVjaXNpb24gZmxvYXRzIGRlcGVuZGluZyBvbiB0aGUgdGV4dHVyZSBmb3JtYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gcm90MCAtIFRoZSBhcnJheSBjb250YWluaW5nIHRoZSAneCcgY29tcG9uZW50IG9mIHF1YXRlcm5pb24gcm90YXRpb25zLlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSByb3QxIC0gVGhlIGFycmF5IGNvbnRhaW5pbmcgdGhlICd5JyBjb21wb25lbnQgb2YgcXVhdGVybmlvbiByb3RhdGlvbnMuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHJvdDIgLSBUaGUgYXJyYXkgY29udGFpbmluZyB0aGUgJ3onIGNvbXBvbmVudCBvZiBxdWF0ZXJuaW9uIHJvdGF0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gcm90MyAtIFRoZSBhcnJheSBjb250YWluaW5nIHRoZSAndycgY29tcG9uZW50IG9mIHF1YXRlcm5pb24gcm90YXRpb25zLlxuICAgICAqL1xuICAgIHVwZGF0ZVJvdGF0aW9uRGF0YShyb3QwLCByb3QxLCByb3QyLCByb3QzKSB7XG4gICAgICAgIGNvbnN0IHsgbnVtQ29tcG9uZW50cywgaXNIYWxmIH0gPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgY29uc3QgcXVhdCA9IG5ldyBRdWF0KCk7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMucm90YXRpb25UZXh0dXJlO1xuICAgICAgICBjb25zdCBkYXRhID0gdGV4dHVyZS5sb2NrKCk7XG4gICAgICAgIGNvbnN0IGZsb2F0MkhhbGYgPSBGbG9hdFBhY2tpbmcuZmxvYXQySGFsZjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtU3BsYXRzOyBpKyspIHtcblxuICAgICAgICAgICAgcXVhdC5zZXQocm90MFtpXSwgcm90MVtpXSwgcm90MltpXSwgcm90M1tpXSkubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIGlmIChxdWF0LncgPCAwKSB7XG4gICAgICAgICAgICAgICAgcXVhdC5jb25qdWdhdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzSGFsZikge1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIG51bUNvbXBvbmVudHMgKyAwXSA9IGZsb2F0MkhhbGYocXVhdC54KTtcbiAgICAgICAgICAgICAgICBkYXRhW2kgKiBudW1Db21wb25lbnRzICsgMV0gPSBmbG9hdDJIYWxmKHF1YXQueSk7XG4gICAgICAgICAgICAgICAgZGF0YVtpICogbnVtQ29tcG9uZW50cyArIDJdID0gZmxvYXQySGFsZihxdWF0LnopO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhW2kgKiBudW1Db21wb25lbnRzICsgMF0gPSBxdWF0Lng7XG4gICAgICAgICAgICAgICAgZGF0YVtpICogbnVtQ29tcG9uZW50cyArIDFdID0gcXVhdC55O1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIG51bUNvbXBvbmVudHMgKyAyXSA9IHF1YXQuejtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRleHR1cmUudW5sb2NrKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBwaXhlbCBkYXRhIG9mIHRoaXMuY2VudGVyVGV4dHVyZSBiYXNlZCBvbiB0aGUgc3VwcGxpZWQgY2VudGVyIGNvb3JkaW5hdGVzLlxuICAgICAqIFRoZSBjZW50ZXIgY29vcmRpbmF0ZXMgYXJlIHN0b3JlZCBhcyBlaXRoZXIgaGFsZiBvciBmdWxsIHByZWNpc2lvbiBmbG9hdHMgZGVwZW5kaW5nIG9uIHRoZSB0ZXh0dXJlIGZvcm1hdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB4IC0gVGhlIGFycmF5IGNvbnRhaW5pbmcgdGhlICd4JyBjb21wb25lbnQgb2YgdGhlIGNlbnRlciBwb2ludHMuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHkgLSBUaGUgYXJyYXkgY29udGFpbmluZyB0aGUgJ3knIGNvbXBvbmVudCBvZiB0aGUgY2VudGVyIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0geiAtIFRoZSBhcnJheSBjb250YWluaW5nIHRoZSAneicgY29tcG9uZW50IG9mIHRoZSBjZW50ZXIgcG9pbnRzLlxuICAgICAqL1xuICAgIHVwZGF0ZUNlbnRlckRhdGEoeCwgeSwgeikge1xuICAgICAgICBjb25zdCB7IG51bUNvbXBvbmVudHMsIGlzSGFsZiB9ID0gdGhpcy5mb3JtYXQ7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY2VudGVyVGV4dHVyZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRleHR1cmUubG9jaygpO1xuICAgICAgICBjb25zdCBmbG9hdDJIYWxmID0gRmxvYXRQYWNraW5nLmZsb2F0MkhhbGY7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bVNwbGF0czsgaSsrKSB7XG5cbiAgICAgICAgICAgIGlmIChpc0hhbGYpIHtcbiAgICAgICAgICAgICAgICBkYXRhW2kgKiBudW1Db21wb25lbnRzICsgMF0gPSBmbG9hdDJIYWxmKHhbaV0pO1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIG51bUNvbXBvbmVudHMgKyAxXSA9IGZsb2F0MkhhbGYoeVtpXSk7XG4gICAgICAgICAgICAgICAgZGF0YVtpICogbnVtQ29tcG9uZW50cyArIDJdID0gZmxvYXQySGFsZih6W2ldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YVtpICogbnVtQ29tcG9uZW50cyArIDBdID0geFtpXTtcbiAgICAgICAgICAgICAgICBkYXRhW2kgKiBudW1Db21wb25lbnRzICsgMV0gPSB5W2ldO1xuICAgICAgICAgICAgICAgIGRhdGFbaSAqIG51bUNvbXBvbmVudHMgKyAyXSA9IHpbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0dXJlLnVubG9jaygpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgR1NwbGF0IH07XG4iXSwibmFtZXMiOlsiR1NwbGF0IiwiY29uc3RydWN0b3IiLCJkZXZpY2UiLCJudW1TcGxhdHMiLCJhYWJiIiwidmVydGV4Rm9ybWF0IiwiZm9ybWF0IiwiY29sb3JUZXh0dXJlIiwic2NhbGVUZXh0dXJlIiwicm90YXRpb25UZXh0dXJlIiwiY2VudGVyVGV4dHVyZSIsImNlbnRlcnMiLCJWZXJ0ZXhGb3JtYXQiLCJzZW1hbnRpYyIsIlNFTUFOVElDX0FUVFIxMyIsImNvbXBvbmVudHMiLCJ0eXBlIiwiaXNXZWJHTDEiLCJUWVBFX0ZMT0FUMzIiLCJUWVBFX1VJTlQzMiIsImFzSW50Iiwic2l6ZSIsImV2YWxUZXh0dXJlU2l6ZSIsImdldFRleHR1cmVGb3JtYXQiLCJjcmVhdGVUZXh0dXJlIiwiUElYRUxGT1JNQVRfUkdCQTgiLCJkZXN0cm95Iiwic2V0dXBNYXRlcmlhbCIsIm1hdGVyaWFsIiwic2V0UGFyYW1ldGVyIiwid2lkdGgiLCJoZWlnaHQiLCJGbG9hdDMyQXJyYXkiLCJjb3VudCIsIk1hdGgiLCJjZWlsIiwic3FydCIsIlZlYzIiLCJuYW1lIiwiVGV4dHVyZSIsIngiLCJ5IiwiY3ViZW1hcCIsIm1pcG1hcHMiLCJtaW5GaWx0ZXIiLCJGSUxURVJfTkVBUkVTVCIsIm1hZ0ZpbHRlciIsImFkZHJlc3NVIiwiQUREUkVTU19DTEFNUF9UT19FREdFIiwiYWRkcmVzc1YiLCJwcmVmZXJIaWdoUHJlY2lzaW9uIiwiaGFsZkZvcm1hdCIsImV4dFRleHR1cmVIYWxmRmxvYXQiLCJ0ZXh0dXJlSGFsZkZsb2F0VXBkYXRhYmxlIiwiUElYRUxGT1JNQVRfUkdCQTE2RiIsInVuZGVmaW5lZCIsImhhbGYiLCJudW1Db21wb25lbnRzIiwiaXNIYWxmIiwiZmxvYXRGb3JtYXQiLCJpc1dlYkdQVSIsIlBJWEVMRk9STUFUX1JHQkEzMkYiLCJleHRUZXh0dXJlRmxvYXQiLCJQSVhFTEZPUk1BVF9SR0IzMkYiLCJmbG9hdCIsInVwZGF0ZUNvbG9yRGF0YSIsImMwIiwiYzEiLCJjMiIsIm9wYWNpdHkiLCJTSF9DMCIsInRleHR1cmUiLCJkYXRhIiwibG9jayIsInNpZ21vaWQiLCJ2IiwiZXhwIiwidCIsImkiLCJtYXRoIiwiY2xhbXAiLCJ1bmxvY2siLCJ1cGRhdGVTY2FsZURhdGEiLCJzY2FsZTAiLCJzY2FsZTEiLCJzY2FsZTIiLCJmbG9hdDJIYWxmIiwiRmxvYXRQYWNraW5nIiwic3giLCJzeSIsInN6IiwidXBkYXRlUm90YXRpb25EYXRhIiwicm90MCIsInJvdDEiLCJyb3QyIiwicm90MyIsInF1YXQiLCJRdWF0Iiwic2V0Iiwibm9ybWFsaXplIiwidyIsImNv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
