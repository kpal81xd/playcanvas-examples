import { LIGHTTYPE_DIRECTIONAL } from '../../constants.js';

const LitOptionsUtils = {
  // generate a key for the lit options
  generateKey(options) {
    return "lit" + Object.keys(options).sort().map(key => {
      if (key === "chunks") {
        return LitOptionsUtils.generateChunksKey(options);
      } else if (key === "lights") {
        return LitOptionsUtils.generateLightsKey(options);
      }
      return key + options[key];
    }).join("\n");
  },
  generateLightsKey(options) {
    return 'lights:' + options.lights.map(light => {
      return !options.clusteredLightingEnabled || light._type === LIGHTTYPE_DIRECTIONAL ? `${light.key},` : '';
    }).join("");
  },
  generateChunksKey(options) {
    var _options$chunks;
    return 'chunks:\n' + Object.keys((_options$chunks = options.chunks) != null ? _options$chunks : {}).sort().map(key => key + options.chunks[key]).join("");
  }
};

export { LitOptionsUtils };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl0LW9wdGlvbnMtdXRpbHMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9zY2VuZS9zaGFkZXItbGliL3Byb2dyYW1zL2xpdC1vcHRpb25zLXV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExJR0hUVFlQRV9ESVJFQ1RJT05BTCB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMuanNcIjtcblxuY29uc3QgTGl0T3B0aW9uc1V0aWxzID0ge1xuXG4gICAgLy8gZ2VuZXJhdGUgYSBrZXkgZm9yIHRoZSBsaXQgb3B0aW9uc1xuICAgIGdlbmVyYXRlS2V5KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFwibGl0XCIgKyBPYmplY3Qua2V5cyhvcHRpb25zKVxuICAgICAgICAgICAgLnNvcnQoKVxuICAgICAgICAgICAgLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJjaHVua3NcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTGl0T3B0aW9uc1V0aWxzLmdlbmVyYXRlQ2h1bmtzS2V5KG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcImxpZ2h0c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMaXRPcHRpb25zVXRpbHMuZ2VuZXJhdGVMaWdodHNLZXkob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXkgKyBvcHRpb25zW2tleV07XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oXCJcXG5cIik7XG4gICAgfSxcblxuICAgIGdlbmVyYXRlTGlnaHRzS2V5KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuICdsaWdodHM6JyArIG9wdGlvbnMubGlnaHRzLm1hcCgobGlnaHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoIW9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkIHx8IGxpZ2h0Ll90eXBlID09PSBMSUdIVFRZUEVfRElSRUNUSU9OQUwpID8gYCR7bGlnaHQua2V5fSxgIDogJyc7XG4gICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgfSxcblxuICAgIGdlbmVyYXRlQ2h1bmtzS2V5KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuICdjaHVua3M6XFxuJyArIE9iamVjdC5rZXlzKG9wdGlvbnMuY2h1bmtzID8/IHt9KVxuICAgICAgICAgICAgLnNvcnQoKVxuICAgICAgICAgICAgLm1hcChrZXkgPT4ga2V5ICsgb3B0aW9ucy5jaHVua3Nba2V5XSlcbiAgICAgICAgICAgIC5qb2luKFwiXCIpO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IExpdE9wdGlvbnNVdGlscyB9O1xuIl0sIm5hbWVzIjpbIkxpdE9wdGlvbnNVdGlscyIsImdlbmVyYXRlS2V5Iiwib3B0aW9ucyIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwibWFwIiwia2V5IiwiZ2VuZXJhdGVDaHVua3NLZXkiLCJnZW5lcmF0ZUxpZ2h0c0tleSIsImpvaW4iLCJsaWdodHMiLCJsaWdodCIsImNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCIsIl90eXBlIiwiTElHSFRUWVBFX0RJUkVDVElPTkFMIiwiX29wdGlvbnMkY2h1bmtzIiwiY2h1bmtzIl0sIm1hcHBpbmdzIjoiOztBQUVBLE1BQU1BLGVBQWUsR0FBRztBQUVwQjtFQUNBQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7QUFDakIsSUFBQSxPQUFPLEtBQUssR0FBR0MsTUFBTSxDQUFDQyxJQUFJLENBQUNGLE9BQU8sQ0FBQyxDQUM5QkcsSUFBSSxFQUFFLENBQ05DLEdBQUcsQ0FBRUMsR0FBRyxJQUFLO01BQ1YsSUFBSUEsR0FBRyxLQUFLLFFBQVEsRUFBRTtBQUNsQixRQUFBLE9BQU9QLGVBQWUsQ0FBQ1EsaUJBQWlCLENBQUNOLE9BQU8sQ0FBQyxDQUFBO0FBQ3JELE9BQUMsTUFBTSxJQUFJSyxHQUFHLEtBQUssUUFBUSxFQUFFO0FBQ3pCLFFBQUEsT0FBT1AsZUFBZSxDQUFDUyxpQkFBaUIsQ0FBQ1AsT0FBTyxDQUFDLENBQUE7QUFDckQsT0FBQTtBQUNBLE1BQUEsT0FBT0ssR0FBRyxHQUFHTCxPQUFPLENBQUNLLEdBQUcsQ0FBQyxDQUFBO0FBQzdCLEtBQUMsQ0FBQyxDQUNERyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7R0FDbEI7RUFFREQsaUJBQWlCQSxDQUFDUCxPQUFPLEVBQUU7SUFDdkIsT0FBTyxTQUFTLEdBQUdBLE9BQU8sQ0FBQ1MsTUFBTSxDQUFDTCxHQUFHLENBQUVNLEtBQUssSUFBSztBQUM3QyxNQUFBLE9BQVEsQ0FBQ1YsT0FBTyxDQUFDVyx3QkFBd0IsSUFBSUQsS0FBSyxDQUFDRSxLQUFLLEtBQUtDLHFCQUFxQixHQUFLLENBQUVILEVBQUFBLEtBQUssQ0FBQ0wsR0FBSSxDQUFBLENBQUEsQ0FBRSxHQUFHLEVBQUUsQ0FBQTtBQUM5RyxLQUFDLENBQUMsQ0FBQ0csSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0dBQ2Q7RUFFREYsaUJBQWlCQSxDQUFDTixPQUFPLEVBQUU7QUFBQSxJQUFBLElBQUFjLGVBQUEsQ0FBQTtBQUN2QixJQUFBLE9BQU8sV0FBVyxHQUFHYixNQUFNLENBQUNDLElBQUksRUFBQVksZUFBQSxHQUFDZCxPQUFPLENBQUNlLE1BQU0sS0FBQUQsSUFBQUEsR0FBQUEsZUFBQSxHQUFJLEVBQUUsQ0FBQyxDQUNqRFgsSUFBSSxFQUFFLENBQ05DLEdBQUcsQ0FBQ0MsR0FBRyxJQUFJQSxHQUFHLEdBQUdMLE9BQU8sQ0FBQ2UsTUFBTSxDQUFDVixHQUFHLENBQUMsQ0FBQyxDQUNyQ0csSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0FBQ2pCLEdBQUE7QUFDSjs7OzsifQ==
