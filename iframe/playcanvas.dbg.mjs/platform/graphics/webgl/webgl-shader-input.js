import { UNIFORMTYPE_BVEC4, UNIFORMTYPE_BVEC4ARRAY, UNIFORMTYPE_UVEC4, UNIFORMTYPE_UVEC4ARRAY, UNIFORMTYPE_IVEC4, UNIFORMTYPE_IVEC4ARRAY, UNIFORMTYPE_VEC4, UNIFORMTYPE_VEC4ARRAY, UNIFORMTYPE_BVEC3, UNIFORMTYPE_BVEC3ARRAY, UNIFORMTYPE_UVEC3, UNIFORMTYPE_UVEC3ARRAY, UNIFORMTYPE_IVEC3, UNIFORMTYPE_IVEC3ARRAY, UNIFORMTYPE_VEC3, UNIFORMTYPE_VEC3ARRAY, UNIFORMTYPE_BVEC2, UNIFORMTYPE_BVEC2ARRAY, UNIFORMTYPE_UVEC2, UNIFORMTYPE_UVEC2ARRAY, UNIFORMTYPE_IVEC2, UNIFORMTYPE_IVEC2ARRAY, UNIFORMTYPE_VEC2, UNIFORMTYPE_VEC2ARRAY, UNIFORMTYPE_BOOL, UNIFORMTYPE_BOOLARRAY, UNIFORMTYPE_UINT, UNIFORMTYPE_UINTARRAY, UNIFORMTYPE_INT, UNIFORMTYPE_INTARRAY, UNIFORMTYPE_FLOAT, UNIFORMTYPE_FLOATARRAY } from '../constants.js';
import { Version } from '../version.js';

/**
 * Representation of a shader uniform.
 *
 * @ignore
 */
class WebglShaderInput {
  /**
   * Create a new WebglShaderInput instance.
   *
   * @param {import('../graphics-device.js').GraphicsDevice} graphicsDevice - The graphics device
   * used to manage this shader input.
   * @param {string} name - The name of the shader input.
   * @param {number} type - The type of the shader input.
   * @param {number | WebGLUniformLocation} locationId - The location id of the shader input.
   */
  constructor(graphicsDevice, name, type, locationId) {
    // Set the shader attribute location
    this.locationId = locationId;

    // Resolve the ScopeId for the attribute name
    this.scopeId = graphicsDevice.scope.resolve(name);

    // Create the version
    this.version = new Version();

    // custom data type for arrays
    if (name.substring(name.length - 3) === "[0]") {
      switch (type) {
        case UNIFORMTYPE_FLOAT:
          type = UNIFORMTYPE_FLOATARRAY;
          break;
        case UNIFORMTYPE_INT:
          type = UNIFORMTYPE_INTARRAY;
          break;
        case UNIFORMTYPE_UINT:
          type = UNIFORMTYPE_UINTARRAY;
          break;
        case UNIFORMTYPE_BOOL:
          type = UNIFORMTYPE_BOOLARRAY;
          break;
        case UNIFORMTYPE_VEC2:
          type = UNIFORMTYPE_VEC2ARRAY;
          break;
        case UNIFORMTYPE_IVEC2:
          type = UNIFORMTYPE_IVEC2ARRAY;
          break;
        case UNIFORMTYPE_UVEC2:
          type = UNIFORMTYPE_UVEC2ARRAY;
          break;
        case UNIFORMTYPE_BVEC2:
          type = UNIFORMTYPE_BVEC2ARRAY;
          break;
        case UNIFORMTYPE_VEC3:
          type = UNIFORMTYPE_VEC3ARRAY;
          break;
        case UNIFORMTYPE_IVEC3:
          type = UNIFORMTYPE_IVEC3ARRAY;
          break;
        case UNIFORMTYPE_UVEC3:
          type = UNIFORMTYPE_UVEC3ARRAY;
          break;
        case UNIFORMTYPE_BVEC3:
          type = UNIFORMTYPE_BVEC3ARRAY;
          break;
        case UNIFORMTYPE_VEC4:
          type = UNIFORMTYPE_VEC4ARRAY;
          break;
        case UNIFORMTYPE_IVEC4:
          type = UNIFORMTYPE_IVEC4ARRAY;
          break;
        case UNIFORMTYPE_UVEC4:
          type = UNIFORMTYPE_UVEC4ARRAY;
          break;
        case UNIFORMTYPE_BVEC4:
          type = UNIFORMTYPE_BVEC4ARRAY;
          break;
      }
    }

    // Set the data dataType
    this.dataType = type;
    this.value = [null, null, null, null];

    // Array to hold texture unit ids
    this.array = [];
  }
}

export { WebglShaderInput };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViZ2wtc2hhZGVyLWlucHV0LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvcGxhdGZvcm0vZ3JhcGhpY3Mvd2ViZ2wvd2ViZ2wtc2hhZGVyLWlucHV0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVOSUZPUk1UWVBFX0ZMT0FULCBVTklGT1JNVFlQRV9GTE9BVEFSUkFZLCBVTklGT1JNVFlQRV9WRUMyLCBVTklGT1JNVFlQRV9WRUMzLCBVTklGT1JNVFlQRV9WRUM0LFxuICAgIFVOSUZPUk1UWVBFX1ZFQzJBUlJBWSwgVU5JRk9STVRZUEVfVkVDM0FSUkFZLCBVTklGT1JNVFlQRV9WRUM0QVJSQVksIFVOSUZPUk1UWVBFX0lOVCwgVU5JRk9STVRZUEVfSU5UQVJSQVksIFVOSUZPUk1UWVBFX1VJTlQsIFVOSUZPUk1UWVBFX1VJTlRBUlJBWSwgVU5JRk9STVRZUEVfQk9PTCwgVU5JRk9STVRZUEVfQk9PTEFSUkFZLCBVTklGT1JNVFlQRV9JVkVDMiwgVU5JRk9STVRZUEVfSVZFQzJBUlJBWSwgVU5JRk9STVRZUEVfVVZFQzIsIFVOSUZPUk1UWVBFX1VWRUMyQVJSQVksIFVOSUZPUk1UWVBFX0JWRUMyLCBVTklGT1JNVFlQRV9CVkVDMkFSUkFZLCBVTklGT1JNVFlQRV9JVkVDMywgVU5JRk9STVRZUEVfVVZFQzMsIFVOSUZPUk1UWVBFX0JWRUMzLCBVTklGT1JNVFlQRV9JVkVDNCwgVU5JRk9STVRZUEVfVVZFQzQsIFVOSUZPUk1UWVBFX0JWRUM0LCBVTklGT1JNVFlQRV9JVkVDM0FSUkFZLCBVTklGT1JNVFlQRV9VVkVDM0FSUkFZLCBVTklGT1JNVFlQRV9CVkVDM0FSUkFZLCBVTklGT1JNVFlQRV9JVkVDNEFSUkFZLCBVTklGT1JNVFlQRV9VVkVDNEFSUkFZLCBVTklGT1JNVFlQRV9CVkVDNEFSUkFZIH0gZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFZlcnNpb24gfSBmcm9tICcuLi92ZXJzaW9uLmpzJztcblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNoYWRlciB1bmlmb3JtLlxuICpcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgV2ViZ2xTaGFkZXJJbnB1dCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFdlYmdsU2hhZGVySW5wdXQgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vZ3JhcGhpY3MtZGV2aWNlLmpzJykuR3JhcGhpY3NEZXZpY2V9IGdyYXBoaWNzRGV2aWNlIC0gVGhlIGdyYXBoaWNzIGRldmljZVxuICAgICAqIHVzZWQgdG8gbWFuYWdlIHRoaXMgc2hhZGVyIGlucHV0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHNoYWRlciBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHlwZSAtIFRoZSB0eXBlIG9mIHRoZSBzaGFkZXIgaW5wdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBXZWJHTFVuaWZvcm1Mb2NhdGlvbn0gbG9jYXRpb25JZCAtIFRoZSBsb2NhdGlvbiBpZCBvZiB0aGUgc2hhZGVyIGlucHV0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdyYXBoaWNzRGV2aWNlLCBuYW1lLCB0eXBlLCBsb2NhdGlvbklkKSB7XG4gICAgICAgIC8vIFNldCB0aGUgc2hhZGVyIGF0dHJpYnV0ZSBsb2NhdGlvblxuICAgICAgICB0aGlzLmxvY2F0aW9uSWQgPSBsb2NhdGlvbklkO1xuXG4gICAgICAgIC8vIFJlc29sdmUgdGhlIFNjb3BlSWQgZm9yIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICB0aGlzLnNjb3BlSWQgPSBncmFwaGljc0RldmljZS5zY29wZS5yZXNvbHZlKG5hbWUpO1xuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdmVyc2lvblxuICAgICAgICB0aGlzLnZlcnNpb24gPSBuZXcgVmVyc2lvbigpO1xuXG4gICAgICAgIC8vIGN1c3RvbSBkYXRhIHR5cGUgZm9yIGFycmF5c1xuICAgICAgICBpZiAobmFtZS5zdWJzdHJpbmcobmFtZS5sZW5ndGggLSAzKSA9PT0gXCJbMF1cIikge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBVTklGT1JNVFlQRV9GTE9BVDogdHlwZSA9IFVOSUZPUk1UWVBFX0ZMT0FUQVJSQVk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVU5JRk9STVRZUEVfSU5UOiB0eXBlID0gVU5JRk9STVRZUEVfSU5UQVJSQVk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVU5JRk9STVRZUEVfVUlOVDogdHlwZSA9IFVOSUZPUk1UWVBFX1VJTlRBUlJBWTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBVTklGT1JNVFlQRV9CT09MOiB0eXBlID0gVU5JRk9STVRZUEVfQk9PTEFSUkFZOyBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgVU5JRk9STVRZUEVfVkVDMjogdHlwZSA9IFVOSUZPUk1UWVBFX1ZFQzJBUlJBWTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBVTklGT1JNVFlQRV9JVkVDMjogdHlwZSA9IFVOSUZPUk1UWVBFX0lWRUMyQVJSQVk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVU5JRk9STVRZUEVfVVZFQzI6IHR5cGUgPSBVTklGT1JNVFlQRV9VVkVDMkFSUkFZOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFVOSUZPUk1UWVBFX0JWRUMyOiB0eXBlID0gVU5JRk9STVRZUEVfQlZFQzJBUlJBWTsgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFVOSUZPUk1UWVBFX1ZFQzM6IHR5cGUgPSBVTklGT1JNVFlQRV9WRUMzQVJSQVk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVU5JRk9STVRZUEVfSVZFQzM6IHR5cGUgPSBVTklGT1JNVFlQRV9JVkVDM0FSUkFZOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFVOSUZPUk1UWVBFX1VWRUMzOiB0eXBlID0gVU5JRk9STVRZUEVfVVZFQzNBUlJBWTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBVTklGT1JNVFlQRV9CVkVDMzogdHlwZSA9IFVOSUZPUk1UWVBFX0JWRUMzQVJSQVk7IGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBVTklGT1JNVFlQRV9WRUM0OiB0eXBlID0gVU5JRk9STVRZUEVfVkVDNEFSUkFZOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFVOSUZPUk1UWVBFX0lWRUM0OiB0eXBlID0gVU5JRk9STVRZUEVfSVZFQzRBUlJBWTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBVTklGT1JNVFlQRV9VVkVDNDogdHlwZSA9IFVOSUZPUk1UWVBFX1VWRUM0QVJSQVk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVU5JRk9STVRZUEVfQlZFQzQ6IHR5cGUgPSBVTklGT1JNVFlQRV9CVkVDNEFSUkFZOyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZGF0YSBkYXRhVHlwZVxuICAgICAgICB0aGlzLmRhdGFUeXBlID0gdHlwZTtcblxuICAgICAgICB0aGlzLnZhbHVlID0gW251bGwsIG51bGwsIG51bGwsIG51bGxdO1xuXG4gICAgICAgIC8vIEFycmF5IHRvIGhvbGQgdGV4dHVyZSB1bml0IGlkc1xuICAgICAgICB0aGlzLmFycmF5ID0gW107XG4gICAgfVxufVxuXG5leHBvcnQgeyBXZWJnbFNoYWRlcklucHV0IH07XG4iXSwibmFtZXMiOlsiV2ViZ2xTaGFkZXJJbnB1dCIsImNvbnN0cnVjdG9yIiwiZ3JhcGhpY3NEZXZpY2UiLCJuYW1lIiwidHlwZSIsImxvY2F0aW9uSWQiLCJzY29wZUlkIiwic2NvcGUiLCJyZXNvbHZlIiwidmVyc2lvbiIsIlZlcnNpb24iLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJVTklGT1JNVFlQRV9GTE9BVCIsIlVOSUZPUk1UWVBFX0ZMT0FUQVJSQVkiLCJVTklGT1JNVFlQRV9JTlQiLCJVTklGT1JNVFlQRV9JTlRBUlJBWSIsIlVOSUZPUk1UWVBFX1VJTlQiLCJVTklGT1JNVFlQRV9VSU5UQVJSQVkiLCJVTklGT1JNVFlQRV9CT09MIiwiVU5JRk9STVRZUEVfQk9PTEFSUkFZIiwiVU5JRk9STVRZUEVfVkVDMiIsIlVOSUZPUk1UWVBFX1ZFQzJBUlJBWSIsIlVOSUZPUk1UWVBFX0lWRUMyIiwiVU5JRk9STVRZUEVfSVZFQzJBUlJBWSIsIlVOSUZPUk1UWVBFX1VWRUMyIiwiVU5JRk9STVRZUEVfVVZFQzJBUlJBWSIsIlVOSUZPUk1UWVBFX0JWRUMyIiwiVU5JRk9STVRZUEVfQlZFQzJBUlJBWSIsIlVOSUZPUk1UWVBFX1ZFQzMiLCJVTklGT1JNVFlQRV9WRUMzQVJSQVkiLCJVTklGT1JNVFlQRV9JVkVDMyIsIlVOSUZPUk1UWVBFX0lWRUMzQVJSQVkiLCJVTklGT1JNVFlQRV9VVkVDMyIsIlVOSUZPUk1UWVBFX1VWRUMzQVJSQVkiLCJVTklGT1JNVFlQRV9CVkVDMyIsIlVOSUZPUk1UWVBFX0JWRUMzQVJSQVkiLCJVTklGT1JNVFlQRV9WRUM0IiwiVU5JRk9STVRZUEVfVkVDNEFSUkFZIiwiVU5JRk9STVRZUEVfSVZFQzQiLCJVTklGT1JNVFlQRV9JVkVDNEFSUkFZIiwiVU5JRk9STVRZUEVfVVZFQzQiLCJVTklGT1JNVFlQRV9VVkVDNEFSUkFZIiwiVU5JRk9STVRZUEVfQlZFQzQiLCJVTklGT1JNVFlQRV9CVkVDNEFSUkFZIiwiZGF0YVR5cGUiLCJ2YWx1ZSIsImFycmF5Il0sIm1hcHBpbmdzIjoiOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsZ0JBQWdCLENBQUM7QUFDbkI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0lDLFdBQVdBLENBQUNDLGNBQWMsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLFVBQVUsRUFBRTtBQUNoRDtJQUNBLElBQUksQ0FBQ0EsVUFBVSxH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
