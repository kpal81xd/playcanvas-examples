import { Debug } from '../../core/debug.js';
import { uniformTypeToName, UNIFORMTYPE_FLOAT, UNIFORMTYPE_VEC2, UNIFORMTYPE_VEC3, UNIFORMTYPE_VEC4, UNIFORMTYPE_INT, UNIFORMTYPE_IVEC2, UNIFORMTYPE_IVEC3, UNIFORMTYPE_IVEC4, UNIFORMTYPE_MAT2, UNIFORMTYPE_MAT3, UNIFORMTYPE_FLOATARRAY, UNIFORMTYPE_VEC2ARRAY, UNIFORMTYPE_VEC3ARRAY, UNIFORMTYPE_UINT, UNIFORMTYPE_UVEC2, UNIFORMTYPE_UVEC3, UNIFORMTYPE_UVEC4, UNIFORMTYPE_INTARRAY, UNIFORMTYPE_BOOLARRAY, UNIFORMTYPE_UINTARRAY, UNIFORMTYPE_IVEC2ARRAY, UNIFORMTYPE_BVEC2ARRAY, UNIFORMTYPE_UVEC2ARRAY, UNIFORMTYPE_IVEC3ARRAY, UNIFORMTYPE_BVEC3ARRAY, UNIFORMTYPE_UVEC3ARRAY } from './constants.js';
import { DebugGraphics } from './debug-graphics.js';
import { DynamicBufferAllocation } from './dynamic-buffers.js';

// Uniform buffer set functions - only implemented for types for which the default
// array to buffer copy does not work, or could be slower.
const _updateFunctions = [];
_updateFunctions[UNIFORMTYPE_FLOAT] = function (uniformBuffer, value, offset) {
  const dst = uniformBuffer.storageFloat32;
  dst[offset] = value;
};
_updateFunctions[UNIFORMTYPE_VEC2] = (uniformBuffer, value, offset) => {
  const dst = uniformBuffer.storageFloat32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
};
_updateFunctions[UNIFORMTYPE_VEC3] = (uniformBuffer, value, offset) => {
  const dst = uniformBuffer.storageFloat32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
  dst[offset + 2] = value[2];
};
_updateFunctions[UNIFORMTYPE_VEC4] = (uniformBuffer, value, offset) => {
  const dst = uniformBuffer.storageFloat32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
  dst[offset + 2] = value[2];
  dst[offset + 3] = value[3];
};
_updateFunctions[UNIFORMTYPE_INT] = function (uniformBuffer, value, offset) {
  const dst = uniformBuffer.storageInt32;
  dst[offset] = value;
};
_updateFunctions[UNIFORMTYPE_IVEC2] = function (uniformBuffer, value, offset) {
  const dst = uniformBuffer.storageInt32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
};
_updateFunctions[UNIFORMTYPE_IVEC3] = function (uniformBuffer, value, offset) {
  const dst = uniformBuffer.storageInt32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
  dst[offset + 2] = value[2];
};
_updateFunctions[UNIFORMTYPE_IVEC4] = function (uniformBuffer, value, offset) {
  const dst = uniformBuffer.storageInt32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
  dst[offset + 2] = value[2];
  dst[offset + 3] = value[3];
};

// convert from continuous array to vec2[3] with padding to vec4[2]
_updateFunctions[UNIFORMTYPE_MAT2] = (uniformBuffer, value, offset) => {
  const dst = uniformBuffer.storageFloat32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
  dst[offset + 4] = value[2];
  dst[offset + 5] = value[3];
  dst[offset + 8] = value[4];
  dst[offset + 9] = value[5];
};

// convert from continuous array to vec3[3] with padding to vec4[3]
_updateFunctions[UNIFORMTYPE_MAT3] = (uniformBuffer, value, offset) => {
  const dst = uniformBuffer.storageFloat32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
  dst[offset + 2] = value[2];
  dst[offset + 4] = value[3];
  dst[offset + 5] = value[4];
  dst[offset + 6] = value[5];
  dst[offset + 8] = value[6];
  dst[offset + 9] = value[7];
  dst[offset + 10] = value[8];
};
_updateFunctions[UNIFORMTYPE_FLOATARRAY] = function (uniformBuffer, value, offset, count) {
  const dst = uniformBuffer.storageFloat32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i];
  }
};
_updateFunctions[UNIFORMTYPE_VEC2ARRAY] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageFloat32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i * 2];
    dst[offset + i * 4 + 1] = value[i * 2 + 1];
  }
};
_updateFunctions[UNIFORMTYPE_VEC3ARRAY] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageFloat32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i * 3];
    dst[offset + i * 4 + 1] = value[i * 3 + 1];
    dst[offset + i * 4 + 2] = value[i * 3 + 2];
  }
};
_updateFunctions[UNIFORMTYPE_UINT] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageUint32;
  dst[offset] = value;
};
_updateFunctions[UNIFORMTYPE_UVEC2] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageUint32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
};
_updateFunctions[UNIFORMTYPE_UVEC3] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageUint32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
  dst[offset + 2] = value[2];
};
_updateFunctions[UNIFORMTYPE_UVEC4] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageUint32;
  dst[offset] = value[0];
  dst[offset + 1] = value[1];
  dst[offset + 2] = value[2];
  dst[offset + 3] = value[3];
};
_updateFunctions[UNIFORMTYPE_INTARRAY] = function (uniformBuffer, value, offset, count) {
  const dst = uniformBuffer.storageInt32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i];
  }
};
_updateFunctions[UNIFORMTYPE_BOOLARRAY] = _updateFunctions[UNIFORMTYPE_INTARRAY];
_updateFunctions[UNIFORMTYPE_UINTARRAY] = function (uniformBuffer, value, offset, count) {
  const dst = uniformBuffer.storageUint32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i];
  }
};
_updateFunctions[UNIFORMTYPE_IVEC2ARRAY] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageInt32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i * 2];
    dst[offset + i * 4 + 1] = value[i * 2 + 1];
  }
};
_updateFunctions[UNIFORMTYPE_BVEC2ARRAY] = _updateFunctions[UNIFORMTYPE_IVEC2ARRAY];
_updateFunctions[UNIFORMTYPE_UVEC2ARRAY] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageUint32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i * 2];
    dst[offset + i * 4 + 1] = value[i * 2 + 1];
  }
};
_updateFunctions[UNIFORMTYPE_IVEC3ARRAY] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageInt32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i * 3];
    dst[offset + i * 4 + 1] = value[i * 3 + 1];
    dst[offset + i * 4 + 2] = value[i * 3 + 2];
  }
};
_updateFunctions[UNIFORMTYPE_BVEC3ARRAY] = _updateFunctions[UNIFORMTYPE_IVEC3ARRAY];
_updateFunctions[UNIFORMTYPE_UVEC3ARRAY] = (uniformBuffer, value, offset, count) => {
  const dst = uniformBuffer.storageUint32;
  for (let i = 0; i < count; i++) {
    dst[offset + i * 4] = value[i * 3];
    dst[offset + i * 4 + 1] = value[i * 3 + 1];
    dst[offset + i * 4 + 2] = value[i * 3 + 2];
  }
};

/**
 * A uniform buffer represents a GPU memory buffer storing the uniforms.
 *
 * @ignore
 */
class UniformBuffer {
  /**
   * Create a new UniformBuffer instance.
   *
   * @param {import('./graphics-device.js').GraphicsDevice} graphicsDevice - The graphics device
   * used to manage this uniform buffer.
   * @param {import('./uniform-buffer-format.js').UniformBufferFormat} format - Format of the
   * uniform buffer.
   * @param {boolean} [persistent] - Whether the buffer is persistent. Defaults to true.
   */
  constructor(graphicsDevice, format, persistent = true) {
    this.device = void 0;
    /** @type {boolean} */
    this.persistent = void 0;
    /** @type {DynamicBufferAllocation} */
    this.allocation = void 0;
    /** @type {Float32Array} */
    this.storageFloat32 = void 0;
    /** @type {Int32Array} */
    this.storageInt32 = void 0;
    /** @type {Uint32Array} */
    this.storageUint32 = void 0;
    /**
     * A render version used to track the last time the properties requiring bind group to be
     * updated were changed.
     *
     * @type {number}
     */
    this.renderVersionDirty = 0;
    this.device = graphicsDevice;
    this.format = format;
    this.persistent = persistent;
    Debug.assert(format);
    if (persistent) {
      this.impl = graphicsDevice.createUniformBufferImpl(this);
      const storage = new ArrayBuffer(format.byteSize);
      this.assignStorage(new Int32Array(storage));
      graphicsDevice._vram.ub += this.format.byteSize;

      // TODO: register with the device and handle lost context
      // this.device.buffers.push(this);
    } else {
      this.allocation = new DynamicBufferAllocation();
    }
  }

  /**
   * Frees resources associated with this uniform buffer.
   */
  destroy() {
    if (this.persistent) {
      // stop tracking the vertex buffer
      // TODO: remove the buffer from the list on the device (lost context handling)
      const device = this.device;
      this.impl.destroy(device);
      device._vram.ub -= this.format.byteSize;
    }
  }
  get offset() {
    return this.persistent ? 0 : this.allocation.offset;
  }

  /**
   * Assign a storage to this uniform buffer.
   *
   * @param {Int32Array} storage - The storage to assign to this uniform buffer.
   */
  assignStorage(storage) {
    this.storageInt32 = storage;
    this.storageUint32 = new Uint32Array(storage.buffer, storage.byteOffset, storage.byteLength / 4);
    this.storageFloat32 = new Float32Array(storage.buffer, storage.byteOffset, storage.byteLength / 4);
  }

  /**
   * Called when the rendering context was lost. It releases all context related resources.
   *
   * @ignore
   */
  loseContext() {
    var _this$impl;
    (_this$impl = this.impl) == null || _this$impl.loseContext();
  }

  /**
   * Assign a value to the uniform specified by its format. This is the fast version of assigning
   * a value to a uniform, avoiding any lookups.
   *
   * @param {import('./uniform-buffer-format.js').UniformFormat} uniformFormat - The format of
   * the uniform.
   */
  setUniform(uniformFormat) {
    Debug.assert(uniformFormat);
    const offset = uniformFormat.offset;
    const value = uniformFormat.scopeId.value;
    if (value !== null && value !== undefined) {
      const updateFunction = _updateFunctions[uniformFormat.updateType];
      if (updateFunction) {
        updateFunction(this, value, offset, uniformFormat.count);
      } else {
        this.storageFloat32.set(value, offset);
      }
    } else {
      Debug.warnOnce(`Value was not set when assigning to uniform [${uniformFormat.name}]` + `, expected type ${uniformTypeToName[uniformFormat.type]} while rendering ${DebugGraphics.toString()}`);
    }
  }

  /**
   * Assign a value to the uniform specified by name.
   *
   * @param {string} name - The name of the uniform.
   */
  set(name) {
    const uniformFormat = this.format.map.get(name);
    Debug.assert(uniformFormat, `Uniform name [${name}] is not part of the Uniform buffer.`);
    if (uniformFormat) {
      this.setUniform(uniformFormat);
    }
  }
  update() {
    const persistent = this.persistent;
    if (!persistent) {
      // allocate memory from dynamic buffer for this frame
      const allocation = this.allocation;
      const oldGpuBuffer = allocation.gpuBuffer;
      this.device.dynamicBuffers.alloc(allocation, this.format.byteSize);
      this.assignStorage(allocation.storage);

      // buffer has changed, update the render version to force bind group to be updated
      if (oldGpuBuffer !== allocation.gpuBuffer) {
        this.renderVersionDirty = this.device.renderVersion;
      }
    }

    // set new values
    const uniforms = this.format.uniforms;
    for (let i = 0; i < uniforms.length; i++) {
      this.setUniform(uniforms[i]);
    }
    if (persistent) {
      // Upload the new data
      this.impl.unlock(this);
    } else {
      this.storageFloat32 = null;
      this.storageInt32 = null;
    }
  }
}

export { UniformBuffer };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pZm9ybS1idWZmZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9wbGF0Zm9ybS9ncmFwaGljcy91bmlmb3JtLWJ1ZmZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWJ1ZyB9IGZyb20gJy4uLy4uL2NvcmUvZGVidWcuanMnO1xuaW1wb3J0IHtcbiAgICB1bmlmb3JtVHlwZVRvTmFtZSxcbiAgICBVTklGT1JNVFlQRV9JTlQsIFVOSUZPUk1UWVBFX0ZMT0FULCBVTklGT1JNVFlQRV9WRUMyLCBVTklGT1JNVFlQRV9WRUMzLFxuICAgIFVOSUZPUk1UWVBFX1ZFQzQsIFVOSUZPUk1UWVBFX0lWRUMyLCBVTklGT1JNVFlQRV9JVkVDMywgVU5JRk9STVRZUEVfSVZFQzQsXG4gICAgVU5JRk9STVRZUEVfRkxPQVRBUlJBWSwgVU5JRk9STVRZUEVfVkVDMkFSUkFZLCBVTklGT1JNVFlQRV9WRUMzQVJSQVksXG4gICAgVU5JRk9STVRZUEVfTUFUMiwgVU5JRk9STVRZUEVfTUFUMywgVU5JRk9STVRZUEVfVUlOVCwgVU5JRk9STVRZUEVfVVZFQzIsIFVOSUZPUk1UWVBFX1VWRUMzLCBVTklGT1JNVFlQRV9VVkVDNCwgVU5JRk9STVRZUEVfSU5UQVJSQVksIFVOSUZPUk1UWVBFX1VJTlRBUlJBWSwgVU5JRk9STVRZUEVfQk9PTEFSUkFZLCBVTklGT1JNVFlQRV9JVkVDMkFSUkFZLCBVTklGT1JNVFlQRV9JVkVDM0FSUkFZLCBVTklGT1JNVFlQRV9VVkVDMkFSUkFZLCBVTklGT1JNVFlQRV9VVkVDM0FSUkFZLCBVTklGT1JNVFlQRV9CVkVDMkFSUkFZLCBVTklGT1JNVFlQRV9CVkVDM0FSUkFZXG59IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IERlYnVnR3JhcGhpY3MgfSBmcm9tICcuL2RlYnVnLWdyYXBoaWNzLmpzJztcbmltcG9ydCB7IER5bmFtaWNCdWZmZXJBbGxvY2F0aW9uIH0gZnJvbSAnLi9keW5hbWljLWJ1ZmZlcnMuanMnO1xuXG4vLyBVbmlmb3JtIGJ1ZmZlciBzZXQgZnVuY3Rpb25zIC0gb25seSBpbXBsZW1lbnRlZCBmb3IgdHlwZXMgZm9yIHdoaWNoIHRoZSBkZWZhdWx0XG4vLyBhcnJheSB0byBidWZmZXIgY29weSBkb2VzIG5vdCB3b3JrLCBvciBjb3VsZCBiZSBzbG93ZXIuXG5jb25zdCBfdXBkYXRlRnVuY3Rpb25zID0gW107XG5cbl91cGRhdGVGdW5jdGlvbnNbVU5JRk9STVRZUEVfRkxPQVRdID0gZnVuY3Rpb24gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQpIHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VGbG9hdDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWU7XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX1ZFQzJdID0gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQpID0+IHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VGbG9hdDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWVbMF07XG4gICAgZHN0W29mZnNldCArIDFdID0gdmFsdWVbMV07XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX1ZFQzNdID0gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQpID0+IHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VGbG9hdDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWVbMF07XG4gICAgZHN0W29mZnNldCArIDFdID0gdmFsdWVbMV07XG4gICAgZHN0W29mZnNldCArIDJdID0gdmFsdWVbMl07XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX1ZFQzRdID0gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQpID0+IHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VGbG9hdDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWVbMF07XG4gICAgZHN0W29mZnNldCArIDFdID0gdmFsdWVbMV07XG4gICAgZHN0W29mZnNldCArIDJdID0gdmFsdWVbMl07XG4gICAgZHN0W29mZnNldCArIDNdID0gdmFsdWVbM107XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX0lOVF0gPSBmdW5jdGlvbiAodW5pZm9ybUJ1ZmZlciwgdmFsdWUsIG9mZnNldCkge1xuICAgIGNvbnN0IGRzdCA9IHVuaWZvcm1CdWZmZXIuc3RvcmFnZUludDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWU7XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX0lWRUMyXSA9IGZ1bmN0aW9uICh1bmlmb3JtQnVmZmVyLCB2YWx1ZSwgb2Zmc2V0KSB7XG4gICAgY29uc3QgZHN0ID0gdW5pZm9ybUJ1ZmZlci5zdG9yYWdlSW50MzI7XG4gICAgZHN0W29mZnNldF0gPSB2YWx1ZVswXTtcbiAgICBkc3Rbb2Zmc2V0ICsgMV0gPSB2YWx1ZVsxXTtcbn07XG5cbl91cGRhdGVGdW5jdGlvbnNbVU5JRk9STVRZUEVfSVZFQzNdID0gZnVuY3Rpb24gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQpIHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VJbnQzMjtcbiAgICBkc3Rbb2Zmc2V0XSA9IHZhbHVlWzBdO1xuICAgIGRzdFtvZmZzZXQgKyAxXSA9IHZhbHVlWzFdO1xuICAgIGRzdFtvZmZzZXQgKyAyXSA9IHZhbHVlWzJdO1xufTtcblxuX3VwZGF0ZUZ1bmN0aW9uc1tVTklGT1JNVFlQRV9JVkVDNF0gPSBmdW5jdGlvbiAodW5pZm9ybUJ1ZmZlciwgdmFsdWUsIG9mZnNldCkge1xuICAgIGNvbnN0IGRzdCA9IHVuaWZvcm1CdWZmZXIuc3RvcmFnZUludDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWVbMF07XG4gICAgZHN0W29mZnNldCArIDFdID0gdmFsdWVbMV07XG4gICAgZHN0W29mZnNldCArIDJdID0gdmFsdWVbMl07XG4gICAgZHN0W29mZnNldCArIDNdID0gdmFsdWVbM107XG59O1xuXG4vLyBjb252ZXJ0IGZyb20gY29udGludW91cyBhcnJheSB0byB2ZWMyWzNdIHdpdGggcGFkZGluZyB0byB2ZWM0WzJdXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX01BVDJdID0gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQpID0+IHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VGbG9hdDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWVbMF07XG4gICAgZHN0W29mZnNldCArIDFdID0gdmFsdWVbMV07XG5cbiAgICBkc3Rbb2Zmc2V0ICsgNF0gPSB2YWx1ZVsyXTtcbiAgICBkc3Rbb2Zmc2V0ICsgNV0gPSB2YWx1ZVszXTtcblxuICAgIGRzdFtvZmZzZXQgKyA4XSA9IHZhbHVlWzRdO1xuICAgIGRzdFtvZmZzZXQgKyA5XSA9IHZhbHVlWzVdO1xufTtcblxuLy8gY29udmVydCBmcm9tIGNvbnRpbnVvdXMgYXJyYXkgdG8gdmVjM1szXSB3aXRoIHBhZGRpbmcgdG8gdmVjNFszXVxuX3VwZGF0ZUZ1bmN0aW9uc1tVTklGT1JNVFlQRV9NQVQzXSA9ICh1bmlmb3JtQnVmZmVyLCB2YWx1ZSwgb2Zmc2V0KSA9PiB7XG4gICAgY29uc3QgZHN0ID0gdW5pZm9ybUJ1ZmZlci5zdG9yYWdlRmxvYXQzMjtcbiAgICBkc3Rbb2Zmc2V0XSA9IHZhbHVlWzBdO1xuICAgIGRzdFtvZmZzZXQgKyAxXSA9IHZhbHVlWzFdO1xuICAgIGRzdFtvZmZzZXQgKyAyXSA9IHZhbHVlWzJdO1xuXG4gICAgZHN0W29mZnNldCArIDRdID0gdmFsdWVbM107XG4gICAgZHN0W29mZnNldCArIDVdID0gdmFsdWVbNF07XG4gICAgZHN0W29mZnNldCArIDZdID0gdmFsdWVbNV07XG5cbiAgICBkc3Rbb2Zmc2V0ICsgOF0gPSB2YWx1ZVs2XTtcbiAgICBkc3Rbb2Zmc2V0ICsgOV0gPSB2YWx1ZVs3XTtcbiAgICBkc3Rbb2Zmc2V0ICsgMTBdID0gdmFsdWVbOF07XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX0ZMT0FUQVJSQVldID0gZnVuY3Rpb24gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQsIGNvdW50KSB7XG4gICAgY29uc3QgZHN0ID0gdW5pZm9ybUJ1ZmZlci5zdG9yYWdlRmxvYXQzMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgZHN0W29mZnNldCArIGkgKiA0XSA9IHZhbHVlW2ldO1xuICAgIH1cbn07XG5cbl91cGRhdGVGdW5jdGlvbnNbVU5JRk9STVRZUEVfVkVDMkFSUkFZXSA9ICh1bmlmb3JtQnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBjb3VudCkgPT4ge1xuICAgIGNvbnN0IGRzdCA9IHVuaWZvcm1CdWZmZXIuc3RvcmFnZUZsb2F0MzI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNF0gPSB2YWx1ZVtpICogMl07XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNCArIDFdID0gdmFsdWVbaSAqIDIgKyAxXTtcbiAgICB9XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX1ZFQzNBUlJBWV0gPSAodW5pZm9ybUJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgY291bnQpID0+IHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VGbG9hdDMyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICBkc3Rbb2Zmc2V0ICsgaSAqIDRdID0gdmFsdWVbaSAqIDNdO1xuICAgICAgICBkc3Rbb2Zmc2V0ICsgaSAqIDQgKyAxXSA9IHZhbHVlW2kgKiAzICsgMV07XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNCArIDJdID0gdmFsdWVbaSAqIDMgKyAyXTtcbiAgICB9XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX1VJTlRdID0gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQsIGNvdW50KSA9PiB7XG4gICAgY29uc3QgZHN0ID0gdW5pZm9ybUJ1ZmZlci5zdG9yYWdlVWludDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWU7XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX1VWRUMyXSA9ICh1bmlmb3JtQnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBjb3VudCkgPT4ge1xuICAgIGNvbnN0IGRzdCA9IHVuaWZvcm1CdWZmZXIuc3RvcmFnZVVpbnQzMjtcbiAgICBkc3Rbb2Zmc2V0XSA9IHZhbHVlWzBdO1xuICAgIGRzdFtvZmZzZXQgKyAxXSA9IHZhbHVlWzFdO1xufTtcblxuX3VwZGF0ZUZ1bmN0aW9uc1tVTklGT1JNVFlQRV9VVkVDM10gPSAodW5pZm9ybUJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgY291bnQpID0+IHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VVaW50MzI7XG4gICAgZHN0W29mZnNldF0gPSB2YWx1ZVswXTtcbiAgICBkc3Rbb2Zmc2V0ICsgMV0gPSB2YWx1ZVsxXTtcbiAgICBkc3Rbb2Zmc2V0ICsgMl0gPSB2YWx1ZVsyXTtcbn07XG5cbl91cGRhdGVGdW5jdGlvbnNbVU5JRk9STVRZUEVfVVZFQzRdID0gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQsIGNvdW50KSA9PiB7XG4gICAgY29uc3QgZHN0ID0gdW5pZm9ybUJ1ZmZlci5zdG9yYWdlVWludDMyO1xuICAgIGRzdFtvZmZzZXRdID0gdmFsdWVbMF07XG4gICAgZHN0W29mZnNldCArIDFdID0gdmFsdWVbMV07XG4gICAgZHN0W29mZnNldCArIDJdID0gdmFsdWVbMl07XG4gICAgZHN0W29mZnNldCArIDNdID0gdmFsdWVbM107XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX0lOVEFSUkFZXSA9IGZ1bmN0aW9uICh1bmlmb3JtQnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBjb3VudCkge1xuICAgIGNvbnN0IGRzdCA9IHVuaWZvcm1CdWZmZXIuc3RvcmFnZUludDMyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICBkc3Rbb2Zmc2V0ICsgaSAqIDRdID0gdmFsdWVbaV07XG4gICAgfVxufTtcbl91cGRhdGVGdW5jdGlvbnNbVU5JRk9STVRZUEVfQk9PTEFSUkFZXSA9IF91cGRhdGVGdW5jdGlvbnNbVU5JRk9STVRZUEVfSU5UQVJSQVldO1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX1VJTlRBUlJBWV0gPSBmdW5jdGlvbiAodW5pZm9ybUJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgY291bnQpIHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VVaW50MzI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNF0gPSB2YWx1ZVtpXTtcbiAgICB9XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX0lWRUMyQVJSQVldID0gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQsIGNvdW50KSA9PiB7XG4gICAgY29uc3QgZHN0ID0gdW5pZm9ybUJ1ZmZlci5zdG9yYWdlSW50MzI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNF0gPSB2YWx1ZVtpICogMl07XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNCArIDFdID0gdmFsdWVbaSAqIDIgKyAxXTtcbiAgICB9XG59O1xuX3VwZGF0ZUZ1bmN0aW9uc1tVTklGT1JNVFlQRV9CVkVDMkFSUkFZXSA9IF91cGRhdGVGdW5jdGlvbnNbVU5JRk9STVRZUEVfSVZFQzJBUlJBWV07XG5cbl91cGRhdGVGdW5jdGlvbnNbVU5JRk9STVRZUEVfVVZFQzJBUlJBWV0gPSAodW5pZm9ybUJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgY291bnQpID0+IHtcbiAgICBjb25zdCBkc3QgPSB1bmlmb3JtQnVmZmVyLnN0b3JhZ2VVaW50MzI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNF0gPSB2YWx1ZVtpICogMl07XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNCArIDFdID0gdmFsdWVbaSAqIDIgKyAxXTtcbiAgICB9XG59O1xuXG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX0lWRUMzQVJSQVldID0gKHVuaWZvcm1CdWZmZXIsIHZhbHVlLCBvZmZzZXQsIGNvdW50KSA9PiB7XG4gICAgY29uc3QgZHN0ID0gdW5pZm9ybUJ1ZmZlci5zdG9yYWdlSW50MzI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNF0gPSB2YWx1ZVtpICogM107XG4gICAgICAgIGRzdFtvZmZzZXQgKyBpICogNCArIDFdID0gdmFsdWVbaSAqIDMgKyAxXTtcbiAgICAgICAgZHN0W29mZnNldCArIGkgKiA0ICsgMl0gPSB2YWx1ZVtpICogMyArIDJdO1xuICAgIH1cbn07XG5fdXBkYXRlRnVuY3Rpb25zW1VOSUZPUk1UWVBFX0JWRUMzQVJSQVldID0gX3VwZGF0ZUZ1bmN0aW9uc1tVTklGT1JNVFlQRV9JVkVDM0FSUkFZXTtcblxuX3VwZGF0ZUZ1bmN0aW9uc1tVTklGT1JNVFlQRV9VVkVDM0FSUkFZXSA9ICh1bmlmb3JtQnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBjb3VudCkgPT4ge1xuICAgIGNvbnN0IGRzdCA9IHVuaWZvcm1CdWZmZXIuc3RvcmFnZVVpbnQzMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgZHN0W29mZnNldCArIGkgKiA0XSA9IHZhbHVlW2kgKiAzXTtcbiAgICAgICAgZHN0W29mZnNldCArIGkgKiA0ICsgMV0gPSB2YWx1ZVtpICogMyArIDFdO1xuICAgICAgICBkc3Rbb2Zmc2V0ICsgaSAqIDQgKyAyXSA9IHZhbHVlW2kgKiAzICsgMl07XG4gICAgfVxufTtcblxuLyoqXG4gKiBBIHVuaWZvcm0gYnVmZmVyIHJlcHJlc2VudHMgYSBHUFUgbWVtb3J5IGJ1ZmZlciBzdG9yaW5nIHRoZSB1bmlmb3Jtcy5cbiAqXG4gKiBAaWdub3JlXG4gKi9cbmNsYXNzIFVuaWZvcm1CdWZmZXIge1xuICAgIGRldmljZTtcblxuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICBwZXJzaXN0ZW50O1xuXG4gICAgLyoqIEB0eXBlIHtEeW5hbWljQnVmZmVyQWxsb2NhdGlvbn0gKi9cbiAgICBhbGxvY2F0aW9uO1xuXG4gICAgLyoqIEB0eXBlIHtGbG9hdDMyQXJyYXl9ICovXG4gICAgc3RvcmFnZUZsb2F0MzI7XG5cbiAgICAvKiogQHR5cGUge0ludDMyQXJyYXl9ICovXG4gICAgc3RvcmFnZUludDMyO1xuXG4gICAgLyoqIEB0eXBlIHtVaW50MzJBcnJheX0gKi9cbiAgICBzdG9yYWdlVWludDMyO1xuXG4gICAgLyoqXG4gICAgICogQSByZW5kZXIgdmVyc2lvbiB1c2VkIHRvIHRyYWNrIHRoZSBsYXN0IHRpbWUgdGhlIHByb3BlcnRpZXMgcmVxdWlyaW5nIGJpbmQgZ3JvdXAgdG8gYmVcbiAgICAgKiB1cGRhdGVkIHdlcmUgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgcmVuZGVyVmVyc2lvbkRpcnR5ID0gMDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBVbmlmb3JtQnVmZmVyIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4vZ3JhcGhpY3MtZGV2aWNlLmpzJykuR3JhcGhpY3NEZXZpY2V9IGdyYXBoaWNzRGV2aWNlIC0gVGhlIGdyYXBoaWNzIGRldmljZVxuICAgICAqIHVzZWQgdG8gbWFuYWdlIHRoaXMgdW5pZm9ybSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4vdW5pZm9ybS1idWZmZXItZm9ybWF0LmpzJykuVW5pZm9ybUJ1ZmZlckZvcm1hdH0gZm9ybWF0IC0gRm9ybWF0IG9mIHRoZVxuICAgICAqIHVuaWZvcm0gYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BlcnNpc3RlbnRdIC0gV2hldGhlciB0aGUgYnVmZmVyIGlzIHBlcnNpc3RlbnQuIERlZmF1bHRzIHRvIHRydWUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ3JhcGhpY3NEZXZpY2UsIGZvcm1hdCwgcGVyc2lzdGVudCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5kZXZpY2UgPSBncmFwaGljc0RldmljZTtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQ7XG4gICAgICAgIHRoaXMucGVyc2lzdGVudCA9IHBlcnNpc3RlbnQ7XG4gICAgICAgIERlYnVnLmFzc2VydChmb3JtYXQpO1xuXG4gICAgICAgIGlmIChwZXJzaXN0ZW50KSB7XG5cbiAgICAgICAgICAgIHRoaXMuaW1wbCA9IGdyYXBoaWNzRGV2aWNlLmNyZWF0ZVVuaWZvcm1CdWZmZXJJbXBsKHRoaXMpO1xuXG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gbmV3IEFycmF5QnVmZmVyKGZvcm1hdC5ieXRlU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2lnblN0b3JhZ2UobmV3IEludDMyQXJyYXkoc3RvcmFnZSkpO1xuXG4gICAgICAgICAgICBncmFwaGljc0RldmljZS5fdnJhbS51YiArPSB0aGlzLmZvcm1hdC5ieXRlU2l6ZTtcblxuICAgICAgICAgICAgLy8gVE9ETzogcmVnaXN0ZXIgd2l0aCB0aGUgZGV2aWNlIGFuZCBoYW5kbGUgbG9zdCBjb250ZXh0XG4gICAgICAgICAgICAvLyB0aGlzLmRldmljZS5idWZmZXJzLnB1c2godGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWxsb2NhdGlvbiA9IG5ldyBEeW5hbWljQnVmZmVyQWxsb2NhdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnJlZXMgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHVuaWZvcm0gYnVmZmVyLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG5cbiAgICAgICAgaWYgKHRoaXMucGVyc2lzdGVudCkge1xuICAgICAgICAgICAgLy8gc3RvcCB0cmFja2luZyB0aGUgdmVydGV4IGJ1ZmZlclxuICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoZSBidWZmZXIgZnJvbSB0aGUgbGlzdCBvbiB0aGUgZGV2aWNlIChsb3N0IGNvbnRleHQgaGFuZGxpbmcpXG4gICAgICAgICAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmRldmljZTtcblxuICAgICAgICAgICAgdGhpcy5pbXBsLmRlc3Ryb3koZGV2aWNlKTtcblxuICAgICAgICAgICAgZGV2aWNlLl92cmFtLnViIC09IHRoaXMuZm9ybWF0LmJ5dGVTaXplO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IG9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyc2lzdGVudCA/IDAgOiB0aGlzLmFsbG9jYXRpb24ub2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbiBhIHN0b3JhZ2UgdG8gdGhpcyB1bmlmb3JtIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SW50MzJBcnJheX0gc3RvcmFnZSAtIFRoZSBzdG9yYWdlIHRvIGFzc2lnbiB0byB0aGlzIHVuaWZvcm0gYnVmZmVyLlxuICAgICAqL1xuICAgIGFzc2lnblN0b3JhZ2Uoc3RvcmFnZSkge1xuICAgICAgICB0aGlzLnN0b3JhZ2VJbnQzMiA9IHN0b3JhZ2U7XG4gICAgICAgIHRoaXMuc3RvcmFnZVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdG9yYWdlLmJ1ZmZlciwgc3RvcmFnZS5ieXRlT2Zmc2V0LCBzdG9yYWdlLmJ5dGVMZW5ndGggLyA0KTtcbiAgICAgICAgdGhpcy5zdG9yYWdlRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoc3RvcmFnZS5idWZmZXIsIHN0b3JhZ2UuYnl0ZU9mZnNldCwgc3RvcmFnZS5ieXRlTGVuZ3RoIC8gNCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHJlbmRlcmluZyBjb250ZXh0IHdhcyBsb3N0LiBJdCByZWxlYXNlcyBhbGwgY29udGV4dCByZWxhdGVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBsb3NlQ29udGV4dCgpIHtcbiAgICAgICAgdGhpcy5pbXBsPy5sb3NlQ29udGV4dCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbiBhIHZhbHVlIHRvIHRoZSB1bmlmb3JtIHNwZWNpZmllZCBieSBpdHMgZm9ybWF0LiBUaGlzIGlzIHRoZSBmYXN0IHZlcnNpb24gb2YgYXNzaWduaW5nXG4gICAgICogYSB2YWx1ZSB0byBhIHVuaWZvcm0sIGF2b2lkaW5nIGFueSBsb29rdXBzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4vdW5pZm9ybS1idWZmZXItZm9ybWF0LmpzJykuVW5pZm9ybUZvcm1hdH0gdW5pZm9ybUZvcm1hdCAtIFRoZSBmb3JtYXQgb2ZcbiAgICAgKiB0aGUgdW5pZm9ybS5cbiAgICAgKi9cbiAgICBzZXRVbmlmb3JtKHVuaWZvcm1Gb3JtYXQpIHtcbiAgICAgICAgRGVidWcuYXNzZXJ0KHVuaWZvcm1Gb3JtYXQpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB1bmlmb3JtRm9ybWF0Lm9mZnNldDtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB1bmlmb3JtRm9ybWF0LnNjb3BlSWQudmFsdWU7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgY29uc3QgdXBkYXRlRnVuY3Rpb24gPSBfdXBkYXRlRnVuY3Rpb25zW3VuaWZvcm1Gb3JtYXQudXBkYXRlVHlwZV07XG4gICAgICAgICAgICBpZiAodXBkYXRlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVGdW5jdGlvbih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB1bmlmb3JtRm9ybWF0LmNvdW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlRmxvYXQzMi5zZXQodmFsdWUsIG9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBEZWJ1Zy53YXJuT25jZShgVmFsdWUgd2FzIG5vdCBzZXQgd2hlbiBhc3NpZ25pbmcgdG8gdW5pZm9ybSBbJHt1bmlmb3JtRm9ybWF0Lm5hbWV9XWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAsIGV4cGVjdGVkIHR5cGUgJHt1bmlmb3JtVHlwZVRvTmFtZVt1bmlmb3JtRm9ybWF0LnR5cGVdfSB3aGlsZSByZW5kZXJpbmcgJHtEZWJ1Z0dyYXBoaWNzLnRvU3RyaW5nKCl9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gYSB2YWx1ZSB0byB0aGUgdW5pZm9ybSBzcGVjaWZpZWQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHVuaWZvcm0uXG4gICAgICovXG4gICAgc2V0KG5hbWUpIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybUZvcm1hdCA9IHRoaXMuZm9ybWF0Lm1hcC5nZXQobmFtZSk7XG4gICAgICAgIERlYnVnLmFzc2VydCh1bmlmb3JtRm9ybWF0LCBgVW5pZm9ybSBuYW1lIFske25hbWV9XSBpcyBub3QgcGFydCBvZiB0aGUgVW5pZm9ybSBidWZmZXIuYCk7XG4gICAgICAgIGlmICh1bmlmb3JtRm9ybWF0KSB7XG4gICAgICAgICAgICB0aGlzLnNldFVuaWZvcm0odW5pZm9ybUZvcm1hdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG5cbiAgICAgICAgY29uc3QgcGVyc2lzdGVudCA9IHRoaXMucGVyc2lzdGVudDtcbiAgICAgICAgaWYgKCFwZXJzaXN0ZW50KSB7XG5cbiAgICAgICAgICAgIC8vIGFsbG9jYXRlIG1lbW9yeSBmcm9tIGR5bmFtaWMgYnVmZmVyIGZvciB0aGlzIGZyYW1lXG4gICAgICAgICAgICBjb25zdCBhbGxvY2F0aW9uID0gdGhpcy5hbGxvY2F0aW9uO1xuICAgICAgICAgICAgY29uc3Qgb2xkR3B1QnVmZmVyID0gYWxsb2NhdGlvbi5ncHVCdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmRldmljZS5keW5hbWljQnVmZmVycy5hbGxvYyhhbGxvY2F0aW9uLCB0aGlzLmZvcm1hdC5ieXRlU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2lnblN0b3JhZ2UoYWxsb2NhdGlvbi5zdG9yYWdlKTtcblxuICAgICAgICAgICAgLy8gYnVmZmVyIGhhcyBjaGFuZ2VkLCB1cGRhdGUgdGhlIHJlbmRlciB2ZXJzaW9uIHRvIGZvcmNlIGJpbmQgZ3JvdXAgdG8gYmUgdXBkYXRlZFxuICAgICAgICAgICAgaWYgKG9sZEdwdUJ1ZmZlciAhPT0gYWxsb2NhdGlvbi5ncHVCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclZlcnNpb25EaXJ0eSA9IHRoaXMuZGV2aWNlLnJlbmRlclZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgbmV3IHZhbHVlc1xuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHRoaXMuZm9ybWF0LnVuaWZvcm1zO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVuaWZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNldFVuaWZvcm0odW5pZm9ybXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBlcnNpc3RlbnQpIHtcbiAgICAgICAgICAgIC8vIFVwbG9hZCB0aGUgbmV3IGRhdGFcbiAgICAgICAgICAgIHRoaXMuaW1wbC51bmxvY2sodGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2VGbG9hdDMyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZUludDMyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHsgVW5pZm9ybUJ1ZmZlciB9O1xuIl0sIm5hbWVzIjpbIl91cGRhdGVGdW5jdGlvbnMiLCJVTklGT1JNVFlQRV9GTE9BVCIsInVuaWZvcm1CdWZmZXIiLCJ2YWx1ZSIsIm9mZnNldCIsImRzdCIsInN0b3JhZ2VGbG9hdDMyIiwiVU5JRk9STVRZUEVfVkVDMiIsIlVOSUZPUk1UWVBFX1ZFQzMiLCJVTklGT1JNVFlQRV9WRUM0IiwiVU5JRk9STVRZUEVfSU5UIiwic3RvcmFnZUludDMyIiwiVU5JRk9STVRZUEVfSVZFQzIiLCJVTklGT1JNVFlQRV9JVkVDMyIsIlVOSUZPUk1UWVBFX0lWRUM0IiwiVU5JRk9STVRZUEVfTUFUMiIsIlVOSUZPUk1UWVBFX01BVDMiLCJVTklGT1JNVFlQRV9GTE9BVEFSUkFZIiwiY291bnQiLCJpIiwiVU5JRk9STVRZUEVfVkVDMkFSUkFZIiwiVU5JRk9STVRZUEVfVkVDM0FSUkFZIiwiVU5JRk9STVRZUEVfVUlOVCIsInN0b3JhZ2VVaW50MzIiLCJVTklGT1JNVFlQRV9VVkVDMiIsIlVOSUZPUk1UWVBFX1VWRUMzIiwiVU5JRk9STVRZUEVfVVZFQzQiLCJVTklGT1JNVFlQRV9JTlRBUlJBWSIsIlVOSUZPUk1UWVBFX0JPT0xBUlJBWSIsIlVOSUZPUk1UWVBFX1VJTlRBUlJBWSIsIlVOSUZPUk1UWVBFX0lWRUMyQVJSQVkiLCJVTklGT1JNVFlQRV9CVkVDMkFSUkFZIiwiVU5JRk9STVRZUEVfVVZFQzJBUlJBWSIsIlVOSUZPUk1UWVBFX0lWRUMzQVJSQVkiLCJVTklGT1JNVFlQRV9CVkVDM0FSUkFZIiwiVU5JRk9STVRZUEVfVVZFQzNBUlJBWSIsIlVuaWZvcm1CdWZmZXIiLCJjb25zdHJ1Y3RvciIsImdyYXBoaWNzRGV2aWNlIiwiZm9ybWF0IiwicGVyc2lzdGVudCIsImRldmljZSIsImFsbG9jYXRpb24iLCJyZW5kZXJWZXJzaW9uRGlydHkiLCJEZWJ1ZyIsImFzc2VydCIsImltcGwiLCJjcmVhdGVVbmlmb3JtQnVmZmVySW1wbCIsInN0b3JhZ2UiLCJBcnJheUJ1ZmZlciIsImJ5dGVTaXplIiwiYXNzaWduU3RvcmFnZSIsIkludDMyQXJyYXkiLCJfdnJhbSIsInViIiwiRHluYW1pY0J1ZmZlckFsbG9jYXRpb24iLCJkZXN0cm95IiwiVWludDMyQXJyYXkiLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsIkZsb2F0MzJBcnJheSIsImxvc2VDb250ZXh0IiwiX3RoaXMkaW1wbCIsInNldFVuaWZvcm0iLCJ1bmlmb3JtRm9ybWF0Iiwic2NvcGVJZCIsInVuZGVmaW5lZCIsInVwZGF0ZUZ1bmN0aW9uIiwidXBkYXRlVHlwZSIsInNldCIsIndhcm5PbmNlIiwibmFtZSIsInVuaWZvcm1UeXBlVG9OYW1lIiwidHlwZSIsIkRlYnVnR3JhcGhpY3MiLCJ0b1N0cmluZyIsIm1hcCIsImdldCIsInVwZGF0ZSIsIm9sZEdwdUJ1ZmZlciIsImdwdUJ1ZmZlciIsImR5bmFtaWNCdWZmZXJzIiwiYWxsb2MiLCJyZW5kZXJWZXJzaW9uIiwidW5pZm9ybXMiLCJsZW5ndGgiLCJ1bmxvY2siXSwibWFwcGluZ3MiOiI7Ozs7O0FBV0E7QUFDQTtBQUNBLE1BQU1BLGdCQUFnQixHQUFHLEVBQUUsQ0FBQTtBQUUzQkEsZ0JBQWdCLENBQUNDLGlCQUFpQixDQUFDLEdBQUcsVUFBVUMsYUFBYSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRTtBQUMxRSxFQUFBLE1BQU1DLEdBQUcsR0FBR0gsYUFBYSxDQUFDSSxjQUFjLENBQUE7QUFDeENELEVBQUFBLEdBQUcsQ0FBQ0QsTUFBTSxDQUFDLEdBQUdELEtBQUssQ0FBQTtBQUN2QixDQUFDLENBQUE7QUFFREgsZ0JBQWdC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
