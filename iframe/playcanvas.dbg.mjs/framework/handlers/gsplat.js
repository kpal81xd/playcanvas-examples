import { PlyParser } from '../parsers/ply.js';
import { ResourceHandler } from './handler.js';

class GSplatHandler extends ResourceHandler {
  /**
   * Create a new GSplatHandler instance.
   *
   * @param {import('../app-base.js').AppBase} app - The running {@link AppBase}.
   * @hideconstructor
   */
  constructor(app) {
    super(app, 'gsplat');
    this.parser = new PlyParser(app.graphicsDevice, app.assets, 3);
  }
  load(url, callback, asset) {
    if (typeof url === 'string') {
      url = {
        load: url,
        original: url
      };
    }
    this.parser.load(url, callback, asset);
  }
  open(url, data, asset) {
    return this.parser.open(url, data, asset);
  }
}

export { GSplatHandler };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3NwbGF0LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2hhbmRsZXJzL2dzcGxhdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbHlQYXJzZXIgfSBmcm9tICcuLi9wYXJzZXJzL3BseS5qcyc7XG5cbmltcG9ydCB7IFJlc291cmNlSGFuZGxlciB9IGZyb20gJy4vaGFuZGxlci5qcyc7XG5cbmNsYXNzIEdTcGxhdEhhbmRsZXIgZXh0ZW5kcyBSZXNvdXJjZUhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBHU3BsYXRIYW5kbGVyIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uL2FwcC1iYXNlLmpzJykuQXBwQmFzZX0gYXBwIC0gVGhlIHJ1bm5pbmcge0BsaW5rIEFwcEJhc2V9LlxuICAgICAqIEBoaWRlY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwLCAnZ3NwbGF0Jyk7XG4gICAgICAgIHRoaXMucGFyc2VyID0gbmV3IFBseVBhcnNlcihhcHAuZ3JhcGhpY3NEZXZpY2UsIGFwcC5hc3NldHMsIDMpO1xuICAgIH1cblxuICAgIGxvYWQodXJsLCBjYWxsYmFjaywgYXNzZXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB1cmwgPSB7XG4gICAgICAgICAgICAgICAgbG9hZDogdXJsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiB1cmxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhcnNlci5sb2FkKHVybCwgY2FsbGJhY2ssIGFzc2V0KTtcbiAgICB9XG5cbiAgICBvcGVuKHVybCwgZGF0YSwgYXNzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLm9wZW4odXJsLCBkYXRhLCBhc3NldCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBHU3BsYXRIYW5kbGVyIH07XG4iXSwibmFtZXMiOlsiR1NwbGF0SGFuZGxlciIsIlJlc291cmNlSGFuZGxlciIsImNvbnN0cnVjdG9yIiwiYXBwIiwicGFyc2VyIiwiUGx5UGFyc2VyIiwiZ3JhcGhpY3NEZXZpY2UiLCJhc3NldHMiLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJhc3NldCIsIm9yaWdpbmFsIiwib3BlbiIsImRhdGEiXSwibWFwcGluZ3MiOiI7OztBQUlBLE1BQU1BLGFBQWEsU0FBU0MsZUFBZSxDQUFDO0FBQ3hDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJQyxXQUFXQSxDQUFDQyxHQUFHLEVBQUU7QUFDYixJQUFBLEtBQUssQ0FBQ0EsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFBO0FBQ3BCLElBQUEsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSUMsU0FBUyxDQUFDRixHQUFHLENBQUNHLGNBQWMsRUFBRUgsR0FBRyxDQUFDSSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFDbEUsR0FBQTtBQUVBQyxFQUFBQSxJQUFJQSxDQUFDQyxHQUFHLEVBQUVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFO0FBQ3ZCLElBQUEsSUFBSSxPQUFPRixHQUFHLEtBQUssUUFBUSxFQUFFO0FBQ3pCQSxNQUFBQSxHQUFHLEdBQUc7QUFDRkQsUUFBQUEsSUFBSSxFQUFFQyxHQUFHO0FBQ1RHLFFBQUFBLFFBQVEsRUFBRUgsR0FBQUE7T0FDYixDQUFBO0FBQ0wsS0FBQTtJQUVBLElBQUksQ0FBQ0wsTUFBTSxDQUFDSSxJQUFJLENBQUNDLEdBQUcsRUFBRUMsUUFBUSxFQUFFQyxLQUFLLENBQUMsQ0FBQTtBQUMxQyxHQUFBO0FBRUFFLEVBQUFBLElBQUlBLENBQUNKLEdBQUcsRUFBRUssSUFBSSxFQUFFSCxLQUFLLEVBQUU7SUFDbkIsT0FBTyxJQUFJLENBQUNQLE1BQU0sQ0FBQ1MsSUFBSSxDQUFDSixHQUFHLEVBQUVLLElBQUksRUFBRUgsS0FBSyxDQUFDLENBQUE7QUFDN0MsR0FBQTtBQUNKOzs7OyJ9
